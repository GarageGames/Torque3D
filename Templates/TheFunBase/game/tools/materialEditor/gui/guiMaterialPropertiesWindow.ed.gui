//--- OBJECT WRITE BEGIN ---
%guiContent = new GuiControl(MaterialEditorGui,EditorGuiGroup) {
   canSaveDynamicFields = "0";
   internalName = "MatEdPropertiesWindowContainer";
   Enabled = "1";
   isContainer = "1";
   Profile = "ToolsGuiDefaultProfile";
   HorizSizing = "right";
   VertSizing = "bottom";
   Position = "0 0";
   Extent = "1024 768";
   MinExtent = "8 2";
   canSave = "1";
   Visible = "1";
   hovertime = "1000";

   new GuiWindowCollapseCtrl(MaterialEditorPropertiesWindow) {
      canSaveDynamicFields = "0";
      internalName = "MatEdPropertiesWindow";
      Enabled = "1";
      isContainer = "1";
      Profile = "ToolsGuiWindowProfile";
      HorizSizing = "windowRelative";
      VertSizing = "windowRelative";
      Extent = "210 446";
      MinExtent = "210 316";
      Position = getWord($pref::Video::mode, 0) - 209
         SPC getWord(EditorGuiToolbar.extent, 1) + getWord(MaterialEditorPreviewWindow.extent, 1) - 2;
      canSave = "1";
      Visible = "1";
      hovertime = "1000";
      Margin = "4 4 4 4";
      Padding = "0 0 0 0";
      AnchorTop = "1";
      AnchorBottom = "0";
      AnchorLeft = "1";
      AnchorRight = "0";
      resizeWidth = "1";
      resizeHeight = "1";
      canMove = "1";
      canClose = "0";
      canMinimize = "0";
      canMaximize = "0";
      closeCommand = "MaterialEditorPropertiesWindow.setVisible(false);";
      minSize = "50 50";
      EdgeSnap = "1";
      text = "Material Properties";
      
      new GuiContainer(){ // Client group
         isContainer = "1";
         Docking = "Client";
         Margin = "3 1 3 3";
         Position = "4 24";
         Extent = "202 668";
         
         new GuiContainer(){ // container to prevent transparent collapsing from effecting children.
            Position = "0 21";
            Extent = "202 39";
            isContainer = "1";
            HorizSizing = "width";
            Visible = "1";
            
            new GuiContainer(MatEdMaterialMode){ // Edit Mode
               Position = "0 0";
               Extent = "202 39";
               isContainer = "1";
               HorizSizing = "width";
               Visible = "0";
               
               new GuiTextCtrl(){ 
                  Position = "1 1";
                  Extent = "39 16";
                  Profile = "ToolsGuiTextRightProfile";
                  text = "Material";
               };
               new GuiTextEditCtrl(){ 
                  internalName = "selMaterialName";
                  Profile = "ToolsGuiTextEditProfile";
                  AltCommand = "MaterialEditorGui.setMaterialDirty();MaterialEditorGui.updateActiveMaterialName($ThisControl.getText());"; // needs hookup
                  HorizSizing = "width";
                  VertSizing = "bottom";
                  Position = "45 0";
                  Extent = "158 18";
                  text = "";
                  HorizSizing = "width";
               };
               new GuiTextCtrl(){ 
                  Position = "1 21";
                  Extent = "39 16";
                  Profile = "ToolsGuiTextRightProfile";
                  text = "Target";
               };
               new GuiTextCtrl(){ // mesh name should not include the path
                  internalName = "selMaterialMapTo"; // will use the first child found with that name if called from a previous parent even if it is invisable.
                  Position = "46 21";
                  Extent = "141 16";
                  HorizSizing = "width";
                  VertSizing = "bottom";
                  text = "";
               };
            };
            new GuiContainer(MatEdTargetMode){ // Selection Mode
               Position = "0 0";
               Extent = "202 39";
               isContainer = "1";
               HorizSizing = "width";
               Visible = "1";
               
               new GuiBitmapButtonCtrl(){
                  Profile = "ToolsGuiButtonProfile";
                  Position = "186 23";
                  Extent = "17 17";
                  HorizSizing = "left";
                  tooltip = "Swap material on the object with existing";
                  bitmap = "tools/materialEditor/gui/change-material-btn";
                  command = "materialSelector.showDialog(\"MaterialEditorGui.showMaterialChangeSaveDialog\");"; 
               };
               
               new GuiTextEditCtrl(){ 
                  internalName = "selMaterialName";
                  Profile = "ToolsGuiTextEditProfile";
                  AltCommand = "MaterialEditorGui.setMaterialDirty();MaterialEditorGui.updateActiveMaterialName($ThisControl.getText());"; // needs hookup
                  HorizSizing = "width";
                  VertSizing = "bottom";
                  Position = "76 21";
                  Extent = "107 18";
                  text = "myMaterial 1";
                  HorizSizing = "width";
               };
               new GuiTextCtrl(){ // mesh name should not include the path
                  internalName = "selMaterialMapTo";
                  Profile = "ToolsGuiTextRightProfile";
                  Position = "1 1";
                  Extent = "70 16";
                  HorizSizing = "right";
                  VertSizing = "bottom";
                  text = "";
               };
               new GuiTextCtrl(){ 
                  Profile = "ToolsGuiTextRightProfile";
                  Position = "1 21";
                  Extent = "70 16";
                  HorizSizing = "right";
                  VertSizing = "bottom";
                  text = "Material";
               };
               new GuiPopupMenuCtrlEx(SubMaterialSelector){ // needs hookup will show the name of the current mesh Maped to
                  Profile = "ToolsGuiPopUpMenuProfile";
                  Position = "76 0";
                  Extent = "126 17";
                  HorizSizing = "width";
                  VertSizing = "bottom";
                  text = "";
                  tooltip = "Target Material";
                  Command = "SubMaterialSelector.onSelect();";
                  reverseTextList = "0";
               };
            };
         };
         
         // make this shorter ////////////////////////////////////////////////////////////////////////////
         new GuiScrollCtrl(matEd_scrollControl) {
            canSaveDynamicFields = "0";
            Enabled = "1";
            isContainer = "1";
            Profile = "ToolsGuiScrollProfile";
            HorizSizing = "width";
            VertSizing = "height"; //height
            position = "0 65";
            Extent = "202 603";
            MinExtent = "8 2";
            canSave = "1";
            Visible = "1";
            hovertime = "1000";
            willFirstRespond = "1";
            hScrollBar = "alwaysOff";
            vScrollBar = "dynamic";
            lockHorizScroll = "true";
            lockVertScroll = "false";
            constantThumbHeight = "0";
            childMargin = "0 0";
               
            new GuiStackControl(MatEd_scrollContents) {
               StackingType = "Vertical";
               HorizStacking = "Left to Right";
               VertStacking = "Top to Bottom";
               Padding = "0";
               isContainer = "1";
               Profile = "ToolsGuiDefaultProfile";
               HorizSizing = "width";
               VertSizing = "bottom";
               position = "0 0";
               Extent = "187 0";
               MinExtent = "8 2";
               canSave = "1";
               isDecoy = "0";
               Visible = "1";
               tooltipprofile = "ToolsGuiToolTipProfile";
               hovertime = "1000";
               
               new GuiPopUpMenuCtrl() {
                  canSaveDynamicFields = "0";
                  internalName = "MaterialLayerCtrl";
                  Enabled = "1";
                  isContainer = "0";
                  Profile = "ToolsGuiPopUpMenuTabProfile";
                  HorizSizing = "right";
                  VertSizing = "bottom";
                  position = "0 0";
                  Extent = "112 18";
                  MinExtent = "8 2";
                  canSave = "1";
                  Visible = "1";
                  Command = "MaterialEditorGui.changeLayer( $ThisControl.getText() );";
                  ToolTip = "Changes the material layer being edited";
                  hovertime = "1000";
                  text = "Layer 0";
                  maxLength = "1024";
                  maxPopupHeight = "200";
                  sbUsesNAColor = "0";
                  reverseTextList = "0";
                  bitmapBounds = "16 16";
               };
               new GuiRolloutCtrl() {
                  class = "BehaviorQuickEditRollout";
                  superclass = LBQuickEditRollout;
                  Profile = "GuiRolloutProfile";
                  HorizSizing = "width";
                  VertSizing = "bottom";
                  Position = "0 0";
                  Extent = "185 0";
                  Caption = "Basic Texture Maps";
                  Margin = "4 4 4 0";
                  DragSizable = false;
                  container = true;
                  parentRollout = %this.rollout;
                  object = %behavior;
                  
                  new GuiStackControl() {
                     StackingType = "Vertical";
                     HorizStacking = "Left to Right";
                     VertStacking = "Top to Bottom";
                     Padding = "0";
                     canSaveDynamicFields = "0";
                     Enabled = "1";
                     isContainer = "1";
                     Profile = "ToolsGuiDefaultProfile";
                     HorizSizing = "width";
                     VertSizing = "bottom";
                     Position = "1 3";
                     Extent = "185 16";
                     MinExtent = "16 16";
                     canSave = "1";
                     isDecoy = "0";
                     Visible = "1";
                     tooltipprofile = "ToolsGuiToolTipProfile";
                     hovertime = "1000";
                     
                     new GuiContainer(){ // Diffuse Map
                        profile="ToolsGuiDefaultProfile";
                        isContainer = "1";
                        position = "6 21";
                        Extent = "185 52";
                        HorizSizing = "width";

                        new GuiBitmapCtrl() {
                           canSaveDynamicFields = "0";
                           internalName = "diffuseMapDisplayBitmap";
                           Enabled = "1";
                           isContainer = "0";
                           Profile = "ToolsGuiDefaultProfile";
                           HorizSizing = "right";
                           VertSizing = "bottom";
                           position = "1 1";
                           Extent = "48 48";
                           MinExtent = "8 2";
                           canSave = "1";
                           Visible = "1";
                           hovertime = "1000";
                           bitmap = "tools/materialeditor/gui/unknownImage";
                           wrap = "0";
                        };
                        new GuiBitmapButtonCtrl() {
                           canSaveDynamicFields = "0";
                           Enabled = "1";
                           isContainer = "0";
                           Profile = "ToolsGuiDefaultProfile";
                           HorizSizing = "right";
                           VertSizing = "bottom";
                           position = "1 1";
                           Extent = "48 48";
                           MinExtent = "8 2";
                           canSave = "1";
                           Visible = "1";
                           Command = "MaterialEditorGui.updateTextureMap(\"diffuse\", 1);";
                           tooltipprofile = "ToolsGuiDefaultProfile";
                           ToolTip = "Change the Active Diffuse Map for this layer";
                           hovertime = "1000";
                           groupNum = "-1";
                           buttonType = "PushButton";
                           useMouseEvents = "0";
                           bitmap = "tools/materialEditor/gui/cubemapBtnBorder";
                        };
                        new GuiTextCtrl() {
                           canSaveDynamicFields = "0";
                           Enabled = "1";
                           isContainer = "0";
                           Profile = "EditorTextProfile";
                           HorizSizing = "right";
                           VertSizing = "bottom";
                           position = "56 -3";
                           Extent = "72 18";
                           MinExtent = "8 2";
                           canSave = "1";
                           Visible = "1";
                           hovertime = "1000";
                           Margin = "0 0 0 0";
                           Padding = "0 0 0 0";
                           AnchorTop = "1";
                           AnchorBottom = "0";
                           AnchorLeft = "1";
                           AnchorRight = "0";
                           text = "Diffuse Map";
                           maxLength = "1024";
                        };
                        new GuiTextCtrl() {
                           canSaveDynamicFields = "0";
                           internalName = "diffuseMapNameText";
                           Enabled = "1";
                           isContainer = "0";
                           Profile = "ToolsGuiTextProfile";
                           HorizSizing = "width";
                           VertSizing = "bottom";
                           position = "56 16";
                           Extent = "134 17";
                           MinExtent = "8 2";
                           canSave = "1";
                           Visible = "1";
                           hovertime = "1000";
                           Margin = "0 0 0 0";
                           Padding = "0 0 0 0";
                           AnchorTop = "1";
                           AnchorBottom = "0";
                           AnchorLeft = "1";
                           AnchorRight = "0";
                           text = "None";
                           maxLength = "1024";
                        };
                        new GuiSwatchButtonCtrl() {
                           canSaveDynamicFields = "0";
                           internalName = "colorTintSwatch";
                           Enabled = "1";
                           isContainer = "0";
                           Profile = "GuiInspectorSwatchButtonProfile";
                           HorizSizing = "right";
                           VertSizing = "bottom";
                           position = "55 33";
                           Extent = "16 16";
                           MinExtent = "8 2";
                           canSave = "1";
                           Visible = "1";
                           Command = "getColorF(materialEd_PreviewMaterial.diffuseColor[MaterialEditorGui.currentLayer], \"MaterialEditorGui.updateColorMultiply\");";
                           hovertime = "1000";
                           groupNum = "-1";
                           buttonType = "PushButton";
                           useMouseEvents = "0";
                        };
                        new GuiTextCtrl(){
                           profile="ToolsGuiDefaultProfile";
                           text = "Color";
                           position = "74 34";
                           Extent = "30 15";
                        };
                        new GuiButtonCtrl(){
                           profile="ToolsGuiButtonProfile";
                           text ="Edit"; 
                           HorizSizing = "left";
                           VertSizing = "bottom";
                           position = "134 34";
                           Extent = "40 16";
                           buttonType = "PushButton";
                           command = "MaterialEditorGui.updateTextureMap(\"diffuse\", 1);";
                           
                        };
                        new GuiBitmapButtonCtrl() {
                           canSaveDynamicFields = "0";
                           Enabled = "1";
                           isContainer = "0";
                           Profile = "ToolsGuiDefaultProfile";
                           HorizSizing = "left";
                           VertSizing = "bottom";
                           position = "177 34";
                           Extent = "16 16";
                           MinExtent = "8 2";
                           canSave = "1";
                           Visible = "1";
                           Command = "MaterialEditorGui.updateTextureMap(\"diffuse\", 0);";
                           hovertime = "1000";
                           groupNum = "-1";
                           buttonType = "PushButton";
                           useMouseEvents = "0";
                           bitmap = "tools/gui/images/delete";
                        };
                     };
                     new GuiBitmapCtrl(){
                        position="6 75";
                        extent ="175 2";
                        HorizSizing = "width";
                        bitmap ="tools/gui/images/separator-v"; 
                     };
                     new GuiContainer(){ // Normal Map
                        profile="ToolsGuiDefaultProfile";
                        isContainer = "1";
                        position = "6 79";
                        Extent = "185 52";
                        HorizSizing = "width";
                        
                        new GuiBitmapCtrl() {
                           canSaveDynamicFields = "0";
                           internalName = "normalMapDisplayBitmap";
                           Enabled = "1";
                           isContainer = "0";
                           Profile = "ToolsGuiDefaultProfile";
                           HorizSizing = "right";
                           VertSizing = "bottom";
                           position = "1 1";
                           Extent = "48 48";
                           MinExtent = "8 2";
                           canSave = "1";
                           Visible = "1";
                           hovertime = "1000";
                           bitmap = "tools/materialeditor/gui/unknownImage";
                           wrap = "0";
                        };
                        new GuiTextCtrl() {
                           canSaveDynamicFields = "0";
                           Enabled = "1";
                           isContainer = "0";
                           Profile = "EditorTextProfile";
                           HorizSizing = "right";
                           VertSizing = "bottom";
                           position = "56 -3";
                           Extent = "72 18";
                           MinExtent = "8 2";
                           canSave = "1";
                           Visible = "1";
                           hovertime = "1000";
                           Margin = "0 0 0 0";
                           Padding = "0 0 0 0";
                           AnchorTop = "1";
                           AnchorBottom = "0";
                           AnchorLeft = "1";
                           AnchorRight = "0";
                           text = "Normal Map";
                           maxLength = "1024";
                        };
                        new GuiBitmapButtonCtrl() {
                           canSaveDynamicFields = "0";
                           Enabled = "1";
                           isContainer = "0";
                           Profile = "ToolsGuiDefaultProfile";
                           HorizSizing = "right";
                           VertSizing = "bottom";
                           position = "1 1";
                           Extent = "48 48";
                           MinExtent = "8 2";
                           canSave = "1";
                           Visible = "1";
                           Command = "MaterialEditorGui.updateTextureMap(\"normal\", 1);";
                           tooltipprofile = "ToolsGuiDefaultProfile";
                           ToolTip = "Change the active Normal Map for this layer.";
                           hovertime = "1000";
                           groupNum = "-1";
                           buttonType = "PushButton";
                           useMouseEvents = "0";
                           bitmap = "tools/materialEditor/gui/cubemapBtnBorder";
                        };
                        new GuiTextCtrl() {
                           canSaveDynamicFields = "0";
                           internalName = "normalMapNameText";
                           Enabled = "1";
                           isContainer = "0";
                           Profile = "ToolsGuiTextProfile";
                           HorizSizing = "width";
                           VertSizing = "bottom";
                           position = "56 16";
                           Extent = "143 17";
                           MinExtent = "8 2";
                           canSave = "1";
                           Visible = "1";
                           hovertime = "1000";
                           Margin = "0 0 0 0";
                           Padding = "0 0 0 0";
                           AnchorTop = "1";
                           AnchorBottom = "0";
                           AnchorLeft = "1";
                           AnchorRight = "0";
                           text = "None";
                           maxLength = "1024";
                        };
                        new GuiButtonCtrl(){
                           profile="ToolsGuiButtonProfile";
                           text ="Edit";
                           HorizSizing = "left";
                           VertSizing = "bottom"; 
                           position = "134 34";
                           Extent = "40 16";
                           buttonType = "PushButton";
                           command = "MaterialEditorGui.updateTextureMap(\"normal\", 1);";
                        };
                        new GuiBitmapButtonCtrl() {
                           canSaveDynamicFields = "0";
                           Enabled = "1";
                           isContainer = "0";
                           Profile = "ToolsGuiDefaultProfile";
                           HorizSizing = "left";
                           VertSizing = "bottom";
                           position = "177 34";
                           Extent = "16 16";
                           MinExtent = "8 2";
                           canSave = "1";
                           Visible = "1";
                           Command = "MaterialEditorGui.updateTextureMap(\"normal\", 0);";
                           hovertime = "1000";
                           groupNum = "-1";
                           buttonType = "PushButton";
                           useMouseEvents = "0";
                           bitmap = "tools/gui/images/delete";
                        };
                     };
                     new GuiBitmapCtrl(){
                        position="6 360";
                        extent ="175 2";
                        HorizSizing = "width";
                        bitmap ="tools/gui/images/separator-v"; 
                     };
                     new GuiContainer(){ // spec Map
                        profile="ToolsGuiDefaultProfile";
                        isContainer = "1";
                        position = "6 364";
                        Extent = "185 52";
                        HorizSizing = "width";
                        
                        new GuiBitmapCtrl() {
                           canSaveDynamicFields = "0";
                           internalName = "specMapDisplayBitmap";
                           Enabled = "1";
                           isContainer = "0";
                           Profile = "ToolsGuiDefaultProfile";
                           HorizSizing = "right";
                           VertSizing = "bottom";
                           position = "1 1";
                           Extent = "48 48";
                           MinExtent = "8 2";
                           canSave = "1";
                           Visible = "1";
                           hovertime = "1000";
                           bitmap = "tools/materialeditor/gui/unknownImage";
                           wrap = "0";
                        };
                        new GuiTextCtrl() {
                           canSaveDynamicFields = "0";
                           Enabled = "1";
                           isContainer = "0";
                           Profile = "EditorTextProfile";
                           HorizSizing = "right";
                           VertSizing = "bottom";
                           position = "56 -3";
                           Extent = "72 18";
                           MinExtent = "8 2";
                           canSave = "1";
                           Visible = "1";
                           hovertime = "1000";
                           Margin = "0 0 0 0";
                           Padding = "0 0 0 0";
                           AnchorTop = "1";
                           AnchorBottom = "0";
                           AnchorLeft = "1";
                           AnchorRight = "0";
                           text = "Spec Map";
                           maxLength = "1024";
                        };
                        new GuiBitmapButtonCtrl() {
                           canSaveDynamicFields = "0";
                           Enabled = "1";
                           isContainer = "0";
                           Profile = "ToolsGuiDefaultProfile";
                           HorizSizing = "right";
                           VertSizing = "bottom";
                           position = "1 1";
                           Extent = "48 48";
                           MinExtent = "8 2";
                           canSave = "1";
                           Visible = "1";
                           Command = "MaterialEditorGui.updateSpecMap(1);";
                           tooltipprofile = "ToolsGuiDefaultProfile";
                           ToolTip = "Change the active Tone Map for this layer.";
                           hovertime = "1000";
                           groupNum = "-1";
                           buttonType = "PushButton";
                           useMouseEvents = "0";
                           bitmap = "tools/materialEditor/gui/cubemapBtnBorder";
                        };
                        new GuiTextCtrl() {
                           canSaveDynamicFields = "0";
                           internalName = "specMapNameText";
                           Enabled = "1";
                           isContainer = "0";
                           Profile = "ToolsGuiTextProfile";
                           HorizSizing = "width";
                           VertSizing = "bottom";
                           position = "56 16";
                           Extent = "143 17";
                           MinExtent = "8 2";
                           canSave = "1";
                           Visible = "1";
                           hovertime = "1000";
                           Margin = "0 0 0 0";
                           Padding = "0 0 0 0";
                           AnchorTop = "1";
                           AnchorBottom = "0";
                           AnchorLeft = "1";
                           AnchorRight = "0";
                           text = "None";
                           maxLength = "1024";
                        };
                        new GuiButtonCtrl(){
                           profile="ToolsGuiButtonProfile";
                           text ="Edit";
                           HorizSizing = "left";
                           VertSizing = "bottom"; 
                           position = "134 34";
                           Extent = "40 16";
                           buttonType = "PushButton";
                           command="MaterialEditorGui.updateSpecMap(1);";
                        };
                        new GuiBitmapButtonCtrl() {
                           canSaveDynamicFields = "0";
                           Enabled = "1";
                           isContainer = "0";
                           Profile = "ToolsGuiDefaultProfile";
                           HorizSizing = "left";
                           VertSizing = "bottom";
                           position = "177 34";
                           Extent = "16 16";
                           MinExtent = "8 2";
                           canSave = "1";
                           Visible = "1";
                           Command = "MaterialEditorGui.updateSpecMap(0);";
                           hovertime = "1000";
                           groupNum = "-1";
                           buttonType = "PushButton";
                           useMouseEvents = "0";
                           bitmap = "tools/gui/images/delete";
                        };
                     };
                  };
               };
               new GuiRolloutCtrl(advancedTextureMapsRollout) {
                  class = "BehaviorQuickEditRollout";
                  superclass = LBQuickEditRollout;
                  Profile = "GuiRolloutProfile";
                  HorizSizing = "width";
                  VertSizing = "bottom";
                  Position = "0 0";
                  Extent = "185 0";
                  Caption = "Advanced Texture Maps";
                  Expanded = false;
                  Margin = "4 4 4 0";
                  DragSizable = false;
                  container = true;
                  parentRollout = %this.rollout;
                  object = %behavior;
                  
                  new GuiStackControl() {
                     StackingType = "Vertical";
                     HorizStacking = "Left to Right";
                     VertStacking = "Top to Bottom";
                     Padding = "0";
                     canSaveDynamicFields = "0";
                     Enabled = "1";
                     isContainer = "1";
                     Profile = "ToolsGuiDefaultProfile";
                     HorizSizing = "width";
                     VertSizing = "bottom";
                     Position = "1 3";
                     Extent = "185 16";
                     MinExtent = "16 16";
                     canSave = "1";
                     isDecoy = "0";
                     Visible = "1";
                     tooltipprofile = "ToolsGuiToolTipProfile";
                     hovertime = "1000";
                     
                     new GuiContainer(){ // Detail Map
                        profile="ToolsGuiDefaultProfile";
                        isContainer = "1";
                        position = "6 193";
                        Extent = "185 52";
                        HorizSizing = "width";
                        
                        new GuiBitmapCtrl() {
                           canSaveDynamicFields = "0";
                           internalName = "detailMapDisplayBitmap";
                           Enabled = "1";
                           isContainer = "0";
                           Profile = "ToolsGuiDefaultProfile";
                           HorizSizing = "right";
                           VertSizing = "bottom";
                           position = "1 1";
                           Extent = "48 48";
                           MinExtent = "8 2";
                           canSave = "1";
                           Visible = "1";
                           hovertime = "1000";
                           bitmap = "tools/materialeditor/gui/unknownImage";
                           wrap = "0";
                        };
                        new GuiBitmapButtonCtrl() {
                           canSaveDynamicFields = "0";
                           Enabled = "1";
                           isContainer = "0";
                           Profile = "ToolsGuiDefaultProfile";
                           HorizSizing = "right";
                           VertSizing = "bottom";
                           position = "1 1";
                           Extent = "48 48";
                           MinExtent = "8 2";
                           canSave = "1";
                           Visible = "1";
                           Command = "MaterialEditorGui.updateTextureMap(\"detail\", 1);";
                           tooltipprofile = "ToolsGuiDefaultProfile";
                           ToolTip = "Change the active Detail Map for this layer.";
                           hovertime = "1000";
                           groupNum = "-1";
                           buttonType = "PushButton";
                           useMouseEvents = "0";
                           bitmap = "tools/materialEditor/gui/cubemapBtnBorder";
                        };
                        
                        new GuiTextCtrl() { // Detailmap Scale text
                           profile="ToolsGuiDefaultProfile";
                           position = "56 34";
                           Extent = "29 16";
                           text ="Scale";
                        };
                        
                        new GuiTextEditCtrl() { // Detailmap Scale
                           profile="ToolsGuiNumericTextEditProfile";
                           internalName = "detailScaleTextEdit";
                           position = "87 33";
                           Extent = "28 18";
                           text ="0";
                           maxLength = "2";
                           AltCommand = "MaterialEditorGui.updateDetailScale($ThisControl.getText());";
                        };
                        
                        new GuiTextCtrl() {
                           canSaveDynamicFields = "0";
                           Enabled = "1";
                           isContainer = "0";
                           Profile = "EditorTextProfile";
                           HorizSizing = "right";
                           VertSizing = "bottom";
                           position = "56 -3";
                           Extent = "72 18";
                           MinExtent = "8 2";
                           canSave = "1";
                           Visible = "1";
                           hovertime = "1000";
                           Margin = "0 0 0 0";
                           Padding = "0 0 0 0";
                           AnchorTop = "1";
                           AnchorBottom = "0";
                           AnchorLeft = "1";
                           AnchorRight = "0";
                           text = "Detail Map";
                           maxLength = "1024";
                        };
                        new GuiTextCtrl() {
                           canSaveDynamicFields = "0";
                           internalName = "detailMapNameText";
                           Enabled = "1";
                           isContainer = "0";
                           Profile = "ToolsGuiTextProfile";
                           HorizSizing = "width";
                           VertSizing = "bottom";
                           position = "56 16";
                           Extent = "143 17";
                           MinExtent = "8 2";
                           canSave = "1";
                           Visible = "1";
                           hovertime = "1000";
                           Margin = "0 0 0 0";
                           Padding = "0 0 0 0";
                           AnchorTop = "1";
                           AnchorBottom = "0";
                           AnchorLeft = "1";
                           AnchorRight = "0";
                           text = "None";
                           maxLength = "1024";
                        };
                        new GuiButtonCtrl(){
                           profile="ToolsGuiButtonProfile";
                           text ="Edit"; 
                           HorizSizing = "left";
                           VertSizing = "bottom";
                           position = "134 34";
                           Extent = "40 16";
                           buttonType = "PushButton";
                           command = "MaterialEditorGui.updateTextureMap(\"detail\", 1);";
                        };
                        new GuiBitmapButtonCtrl() {
                           canSaveDynamicFields = "0";
                           Enabled = "1";
                           isContainer = "0";
                           Profile = "ToolsGuiDefaultProfile";
                           HorizSizing = "left";
                           VertSizing = "bottom";
                           position = "177 34";
                           Extent = "16 16";
                           MinExtent = "8 2";
                           canSave = "1";
                           Visible = "1";
                           Command = "MaterialEditorGui.updateTextureMap(\"detail\", 0);";
                           hovertime = "1000";
                           groupNum = "-1";
                           buttonType = "PushButton";
                           useMouseEvents = "0";
                           bitmap = "tools/gui/images/delete";
                        };
                     };
                     new GuiBitmapCtrl(){
                        position="6 246";
                        extent ="175 2";
                        HorizSizing = "width";
                        bitmap ="tools/gui/images/separator-v"; 
                     };
                     
                     new GuiContainer(){ // Detail Normal Map
                        profile="ToolsGuiDefaultProfile";
                        isContainer = "1";
                        position = "6 136";
                        Extent = "185 52";
                        HorizSizing = "width";
                        
                        new GuiBitmapCtrl() {
                           canSaveDynamicFields = "0";
                           internalName = "detailNormalMapDisplayBitmap";
                           Enabled = "1";
                           isContainer = "0";
                           Profile = "ToolsGuiDefaultProfile";
                           HorizSizing = "right";
                           VertSizing = "bottom";
                           position = "1 1";
                           Extent = "48 48";
                           MinExtent = "8 2";
                           canSave = "1";
                           Visible = "1";
                           hovertime = "1000";
                           bitmap = "tools/materialeditor/gui/unknownImage";
                           wrap = "0";
                        };
                        new GuiBitmapButtonCtrl() {
                           canSaveDynamicFields = "0";
                           Enabled = "1";
                           isContainer = "0";
                           Profile = "ToolsGuiDefaultProfile";
                           HorizSizing = "right";
                           VertSizing = "bottom";
                           position = "1 1";
                           Extent = "48 48";
                           MinExtent = "8 2";
                           canSave = "1";
                           Visible = "1";
                           Command = "MaterialEditorGui.updateTextureMap(\"detailNormal\", 1);";
                           tooltipprofile = "ToolsGuiDefaultProfile";
                           ToolTip = "Change the active DetailNormal Map for this layer.";
                           hovertime = "1000";
                           groupNum = "-1";
                           buttonType = "PushButton";
                           useMouseEvents = "0";
                           bitmap = "tools/materialEditor/gui/cubemapBtnBorder";
                        };
                        
                        new GuiTextCtrl() { // Detail Normal Map Strength text
                           profile="ToolsGuiDefaultProfile";
                           position = "56 34";
                           Extent = "29 16";
                           text ="Strength";
                        };
                        
                        new GuiTextEditCtrl() { // Detail Normal Map Strength
                           profile="ToolsGuiNumericTextEditProfile";
                           internalName = "detailNormalStrengthTextEdit";
                           position = "87 33";
                           Extent = "28 18";
                           text ="0";
                           maxLength = "3";
                           AltCommand = "MaterialEditorGui.updateDetailNormalStrength($ThisControl.getText());";
                        };
                        
                        new GuiTextCtrl() {
                           canSaveDynamicFields = "0";
                           Enabled = "1";
                           isContainer = "0";
                           Profile = "EditorTextProfile";
                           HorizSizing = "right";
                           VertSizing = "bottom";
                           position = "56 -3";
                           Extent = "72 18";
                           MinExtent = "8 2";
                           canSave = "1";
                           Visible = "1";
                           hovertime = "1000";
                           Margin = "0 0 0 0";
                           Padding = "0 0 0 0";
                           AnchorTop = "1";
                           AnchorBottom = "0";
                           AnchorLeft = "1";
                           AnchorRight = "0";
                           text = "Detail Normal Map";
                           maxLength = "1024";
                        };
                        new GuiTextCtrl() {
                           canSaveDynamicFields = "0";
                           internalName = "detailNormalMapNameText";
                           Enabled = "1";
                           isContainer = "0";
                           Profile = "ToolsGuiTextProfile";
                           HorizSizing = "width";
                           VertSizing = "bottom";
                           position = "56 16";
                           Extent = "143 17";
                           MinExtent = "8 2";
                           canSave = "1";
                           Visible = "1";
                           hovertime = "1000";
                           Margin = "0 0 0 0";
                           Padding = "0 0 0 0";
                           AnchorTop = "1";
                           AnchorBottom = "0";
                           AnchorLeft = "1";
                           AnchorRight = "0";
                           text = "None";
                           maxLength = "1024";
                        };
                        new GuiButtonCtrl(){
                           profile="ToolsGuiButtonProfile";
                           text ="Edit"; 
                           HorizSizing = "left";
                           VertSizing = "bottom";
                           position = "134 34";
                           Extent = "40 16";
                           buttonType = "PushButton";
                           command = "MaterialEditorGui.updateTextureMap(\"detailNormal\", 1);";
                        };
                        new GuiBitmapButtonCtrl() {
                           canSaveDynamicFields = "0";
                           Enabled = "1";
                           isContainer = "0";
                           Profile = "ToolsGuiDefaultProfile";
                           HorizSizing = "left";
                           VertSizing = "bottom";
                           position = "177 34";
                           Extent = "16 16";
                           MinExtent = "8 2";
                           canSave = "1";
                           Visible = "1";
                           Command = "MaterialEditorGui.updateTextureMap(\"detailNormal\", 0);";
                           hovertime = "1000";
                           groupNum = "-1";
                           buttonType = "PushButton";
                           useMouseEvents = "0";
                           bitmap = "tools/gui/images/delete";
                        };
                     };
                     new GuiBitmapCtrl(){
                        position="6 189";
                        extent ="175 2";
                        HorizSizing = "width";
                        bitmap ="tools/gui/images/separator-v"; 
                     };
                     
                     new GuiContainer(){ // Overlay Map
                        profile="ToolsGuiDefaultProfile";
                        isContainer = "1";
                        position = "6 136";
                        Extent = "185 52";
                        HorizSizing = "width";
                        
                        new GuiBitmapCtrl() {
                           canSaveDynamicFields = "0";
                           internalName = "overlayMapDisplayBitmap";
                           Enabled = "1";
                           isContainer = "0";
                           Profile = "ToolsGuiDefaultProfile";
                           HorizSizing = "right";
                           VertSizing = "bottom";
                           position = "1 1";
                           Extent = "48 48";
                           MinExtent = "8 2";
                           canSave = "1";
                           Visible = "1";
                           hovertime = "1000";
                           bitmap = "tools/materialeditor/gui/unknownImage";
                           wrap = "0";
                        };
                        new GuiBitmapButtonCtrl() {
                           canSaveDynamicFields = "0";
                           Enabled = "1";
                           isContainer = "0";
                           Profile = "ToolsGuiDefaultProfile";
                           HorizSizing = "right";
                           VertSizing = "bottom";
                           position = "1 1";
                           Extent = "48 48";
                           MinExtent = "8 2";
                           canSave = "1";
                           Visible = "1";
                           Command = "MaterialEditorGui.updateTextureMap(\"overlay\", 1);";
                           tooltipprofile = "ToolsGuiDefaultProfile";
                           ToolTip = "Change the active Overlay Map for this layer.";
                           hovertime = "1000";
                           groupNum = "-1";
                           buttonType = "PushButton";
                           useMouseEvents = "0";
                           bitmap = "tools/materialEditor/gui/cubemapBtnBorder";
                        };
                        new GuiTextCtrl() {
                           canSaveDynamicFields = "0";
                           Enabled = "1";
                           isContainer = "0";
                           Profile = "EditorTextProfile";
                           HorizSizing = "right";
                           VertSizing = "bottom";
                           position = "56 -3";
                           Extent = "72 18";
                           MinExtent = "8 2";
                           canSave = "1";
                           Visible = "1";
                           hovertime = "1000";
                           Margin = "0 0 0 0";
                           Padding = "0 0 0 0";
                           AnchorTop = "1";
                           AnchorBottom = "0";
                           AnchorLeft = "1";
                           AnchorRight = "0";
                           text = "Overlay Map";
                           maxLength = "1024";
                        };
                        new GuiTextCtrl() {
                           canSaveDynamicFields = "0";
                           internalName = "overlayMapNameText";
                           Enabled = "1";
                           isContainer = "0";
                           Profile = "ToolsGuiTextProfile";
                           HorizSizing = "width";
                           VertSizing = "bottom";
                           position = "56 16";
                           Extent = "143 17";
                           MinExtent = "8 2";
                           canSave = "1";
                           Visible = "1";
                           hovertime = "1000";
                           Margin = "0 0 0 0";
                           Padding = "0 0 0 0";
                           AnchorTop = "1";
                           AnchorBottom = "0";
                           AnchorLeft = "1";
                           AnchorRight = "0";
                           text = "None";
                           maxLength = "1024";
                        };
                        new GuiButtonCtrl(){
                           profile="ToolsGuiButtonProfile";
                           text ="Edit"; 
                           HorizSizing = "left";
                           VertSizing = "bottom";
                           position = "134 34";
                           Extent = "40 16";
                           buttonType = "PushButton";
                           command = "MaterialEditorGui.updateTextureMap(\"overlay\", 1);";
                        };
                        new GuiBitmapButtonCtrl() {
                           canSaveDynamicFields = "0";
                           Enabled = "1";
                           isContainer = "0";
                           Profile = "ToolsGuiDefaultProfile";
                           HorizSizing = "left";
                           VertSizing = "bottom";
                           position = "177 34";
                           Extent = "16 16";
                           MinExtent = "8 2";
                           canSave = "1";
                           Visible = "1";
                           Command = "MaterialEditorGui.updateTextureMap(\"overlay\", 0);";
                           hovertime = "1000";
                           groupNum = "-1";
                           buttonType = "PushButton";
                           useMouseEvents = "0";
                           bitmap = "tools/gui/images/delete";
                        };
                     };
                     new GuiBitmapCtrl(){
                        position="6 189";
                        extent ="175 2";
                        HorizSizing = "width";
                        bitmap ="tools/gui/images/separator-v"; 
                     };
                     new GuiContainer(){ // light Map
                        profile="ToolsGuiDefaultProfile";
                        isContainer = "1";
                        position = "6 250";
                        Extent = "185 52";
                        HorizSizing = "width";
                        
                        new GuiBitmapCtrl() {
                           canSaveDynamicFields = "0";
                           internalName = "lightMapDisplayBitmap";
                           Enabled = "1";
                           isContainer = "0";
                           Profile = "ToolsGuiDefaultProfile";
                           HorizSizing = "right";
                           VertSizing = "bottom";
                           position = "1 1";
                           Extent = "48 48";
                           MinExtent = "8 2";
                           canSave = "1";
                           Visible = "1";
                           hovertime = "1000";
                           bitmap = "tools/materialeditor/gui/unknownImage";
                           wrap = "0";
                        };
                        new GuiTextCtrl() {
                           canSaveDynamicFields = "0";
                           Enabled = "1";
                           isContainer = "0";
                           Profile = "EditorTextProfile";
                           HorizSizing = "right";
                           VertSizing = "bottom";
                           position = "56 -3";
                           Extent = "72 18";
                           MinExtent = "8 2";
                           canSave = "1";
                           Visible = "1";
                           hovertime = "1000";
                           Margin = "0 0 0 0";
                           Padding = "0 0 0 0";
                           AnchorTop = "1";
                           AnchorBottom = "0";
                           AnchorLeft = "1";
                           AnchorRight = "0";
                           text = "Light Map";
                           maxLength = "1024";
                        };
                        new GuiBitmapButtonCtrl() {
                           canSaveDynamicFields = "0";
                           Enabled = "1";
                           isContainer = "0";
                           Profile = "ToolsGuiDefaultProfile";
                           HorizSizing = "right";
                           VertSizing = "bottom";
                           position = "1 1";
                           Extent = "48 48";
                           MinExtent = "8 2";
                           canSave = "1";
                           Visible = "1";
                           Command = "MaterialEditorGui.updateTextureMap(\"light\", 1);";
                           tooltipprofile = "ToolsGuiDefaultProfile";
                           ToolTip = "Change the active light Map for this layer.";
                           hovertime = "1000";
                           groupNum = "-1";
                           buttonType = "PushButton";
                           useMouseEvents = "0";
                           bitmap = "tools/materialEditor/gui/cubemapBtnBorder";
                        };
                        new GuiTextCtrl() {
                           canSaveDynamicFields = "0";
                           internalName = "lightMapNameText";
                           Enabled = "1";
                           isContainer = "0";
                           Profile = "ToolsGuiTextProfile";
                           HorizSizing = "width";
                           VertSizing = "bottom";
                           position = "56 16";
                           Extent = "143 17";
                           MinExtent = "8 2";
                           canSave = "1";
                           Visible = "1";
                           hovertime = "1000";
                           Margin = "0 0 0 0";
                           Padding = "0 0 0 0";
                           AnchorTop = "1";
                           AnchorBottom = "0";
                           AnchorLeft = "1";
                           AnchorRight = "0";
                           text = "None";
                           maxLength = "1024";
                        };
                        new GuiButtonCtrl(){
                           profile="ToolsGuiButtonProfile";
                           text ="Edit";
                           HorizSizing = "left";
                           VertSizing = "bottom"; 
                           position = "134 34";
                           Extent = "40 16";
                           buttonType = "PushButton";
                           command="MaterialEditorGui.updateTextureMap(\"light\", 1);";
                        };
                        new GuiBitmapButtonCtrl() {
                           canSaveDynamicFields = "0";
                           Enabled = "1";
                           isContainer = "0";
                           Profile = "ToolsGuiDefaultProfile";
                           HorizSizing = "left";
                           VertSizing = "bottom";
                           position = "177 34";
                           Extent = "16 16";
                           MinExtent = "8 2";
                           canSave = "1";
                           Visible = "1";
                           Command = "MaterialEditorGui.updateTextureMap(\"light\", 0);";
                           hovertime = "1000";
                           groupNum = "-1";
                           buttonType = "PushButton";
                           useMouseEvents = "0";
                           bitmap = "tools/gui/images/delete";
                        };
                     };
                     new GuiBitmapCtrl(){
                        position="6 303";
                        extent ="175 2";
                        HorizSizing = "width";
                        bitmap ="tools/gui/images/separator-v"; 
                     };
                     new GuiContainer(){ // tone Map
                        profile="ToolsGuiDefaultProfile";
                        isContainer = "1";
                        position = "6 307";
                        Extent = "185 52";
                        HorizSizing = "width";
                        
                        new GuiBitmapCtrl() {
                           canSaveDynamicFields = "0";
                           internalName = "toneMapDisplayBitmap";
                           Enabled = "1";
                           isContainer = "0";
                           Profile = "ToolsGuiDefaultProfile";
                           HorizSizing = "right";
                           VertSizing = "bottom";
                           position = "1 1";
                           Extent = "48 48";
                           MinExtent = "8 2";
                           canSave = "1";
                           Visible = "1";
                           hovertime = "1000";
                           bitmap = "tools/materialeditor/gui/unknownImage";
                           wrap = "0";
                        };
                        new GuiTextCtrl() {
                           canSaveDynamicFields = "0";
                           Enabled = "1";
                           isContainer = "0";
                           Profile = "EditorTextProfile";
                           HorizSizing = "right";
                           VertSizing = "bottom";
                           position = "56 -3";
                           Extent = "72 18";
                           MinExtent = "8 2";
                           canSave = "1";
                           Visible = "1";
                           hovertime = "1000";
                           Margin = "0 0 0 0";
                           Padding = "0 0 0 0";
                           AnchorTop = "1";
                           AnchorBottom = "0";
                           AnchorLeft = "1";
                           AnchorRight = "0";
                           text = "Tone Map";
                           maxLength = "1024";
                        };
                        new GuiBitmapButtonCtrl() {
                           canSaveDynamicFields = "0";
                           Enabled = "1";
                           isContainer = "0";
                           Profile = "ToolsGuiDefaultProfile";
                           HorizSizing = "right";
                           VertSizing = "bottom";
                           position = "1 1";
                           Extent = "48 48";
                           MinExtent = "8 2";
                           canSave = "1";
                           Visible = "1";
                           Command = "MaterialEditorGui.updateTextureMap(\"tone\", 1);";
                           tooltipprofile = "ToolsGuiDefaultProfile";
                           ToolTip = "Change the active Tone Map for this layer.";
                           hovertime = "1000";
                           groupNum = "-1";
                           buttonType = "PushButton";
                           useMouseEvents = "0";
                           bitmap = "tools/materialEditor/gui/cubemapBtnBorder";
                        };
                        new GuiTextCtrl() {
                           canSaveDynamicFields = "0";
                           internalName = "toneMapNameText";
                           Enabled = "1";
                           isContainer = "0";
                           Profile = "ToolsGuiTextProfile";
                           HorizSizing = "width";
                           VertSizing = "bottom";
                           position = "56 16";
                           Extent = "143 17";
                           MinExtent = "8 2";
                           canSave = "1";
                           Visible = "1";
                           hovertime = "1000";
                           Margin = "0 0 0 0";
                           Padding = "0 0 0 0";
                           AnchorTop = "1";
                           AnchorBottom = "0";
                           AnchorLeft = "1";
                           AnchorRight = "0";
                           text = "None";
                           maxLength = "1024";
                        };
                        new GuiButtonCtrl(){
                           profile="ToolsGuiButtonProfile";
                           text ="Edit";
                           HorizSizing = "left";
                           VertSizing = "bottom"; 
                           position = "134 34";
                           Extent = "40 16";
                           buttonType = "PushButton";
                           command="MaterialEditorGui.updateTextureMap(\"tone\", 1);";
                        };
                        new GuiBitmapButtonCtrl() {
                           canSaveDynamicFields = "0";
                           Enabled = "1";
                           isContainer = "0";
                           Profile = "ToolsGuiDefaultProfile";
                           HorizSizing = "left";
                           VertSizing = "bottom";
                           position = "177 34";
                           Extent = "16 16";
                           MinExtent = "8 2";
                           canSave = "1";
                           Visible = "1";
                           Command = "MaterialEditorGui.updateTextureMap(\"tone\", 0);";
                           hovertime = "1000";
                           groupNum = "-1";
                           buttonType = "PushButton";
                           useMouseEvents = "0";
                           bitmap = "tools/gui/images/delete";
                        };
                     };
                     new GuiBitmapCtrl(){
                        position="6 357";
                        extent ="175 2";
                        HorizSizing = "width";
                        bitmap ="tools/gui/images/separator-v"; 
                     };
                     new GuiContainer(){ // Environment Map
                        profile="ToolsGuiDefaultProfile";
                        isContainer = "1";
                        position = "6 359";
                        Extent = "185 52";
                        HorizSizing = "width";
                        
                        new GuiBitmapCtrl() {
                           canSaveDynamicFields = "0";
                           internalName = "envMapDisplayBitmap";
                           Enabled = "1";
                           isContainer = "0";
                           Profile = "ToolsGuiDefaultProfile";
                           HorizSizing = "right";
                           VertSizing = "bottom";
                           position = "1 1";
                           Extent = "48 48";
                           MinExtent = "8 2";
                           canSave = "1";
                           Visible = "1";
                           hovertime = "1000";
                           bitmap = "tools/materialeditor/gui/unknownImage";
                           wrap = "0";
                        };
                        new GuiTextCtrl() {
                           canSaveDynamicFields = "0";
                           Enabled = "1";
                           isContainer = "0";
                           Profile = "EditorTextProfile";
                           HorizSizing = "right";
                           VertSizing = "bottom";
                           position = "56 -3";
                           Extent = "72 18";
                           MinExtent = "8 2";
                           canSave = "1";
                           Visible = "1";
                           hovertime = "1000";
                           Margin = "0 0 0 0";
                           Padding = "0 0 0 0";
                           AnchorTop = "1";
                           AnchorBottom = "0";
                           AnchorLeft = "1";
                           AnchorRight = "0";
                           text = "Env Map";
                           maxLength = "1024";
                        };
                        new GuiBitmapButtonCtrl() {
                           canSaveDynamicFields = "0";
                           Enabled = "1";
                           isContainer = "0";
                           Profile = "ToolsGuiDefaultProfile";
                           HorizSizing = "right";
                           VertSizing = "bottom";
                           position = "1 1";
                           Extent = "48 48";
                           MinExtent = "8 2";
                           canSave = "1";
                           Visible = "1";
                           Command = "MaterialEditorGui.updateTextureMap(\"env\", 1);";
                           tooltipprofile = "ToolsGuiDefaultProfile";
                           ToolTip = "Change the active Environment Map for this layer.";
                           hovertime = "1000";
                           groupNum = "-1";
                           buttonType = "PushButton";
                           useMouseEvents = "0";
                           bitmap = "tools/materialEditor/gui/cubemapBtnBorder";
                        };
                        new GuiTextCtrl() {
                           canSaveDynamicFields = "0";
                           internalName = "envMapNameText";
                           Enabled = "1";
                           isContainer = "0";
                           Profile = "ToolsGuiTextProfile";
                           HorizSizing = "width";
                           VertSizing = "bottom";
                           position = "56 16";
                           Extent = "143 17";
                           MinExtent = "8 2";
                           canSave = "1";
                           Visible = "1";
                           hovertime = "1000";
                           Margin = "0 0 0 0";
                           Padding = "0 0 0 0";
                           AnchorTop = "1";
                           AnchorBottom = "0";
                           AnchorLeft = "1";
                           AnchorRight = "0";
                           text = "None";
                           maxLength = "1024";
                        };
                        new GuiButtonCtrl(){
                           profile="ToolsGuiButtonProfile";
                           text ="Edit";
                           HorizSizing = "left";
                           VertSizing = "bottom"; 
                           position = "134 34";
                           Extent = "40 16";
                           buttonType = "PushButton";
                           command="MaterialEditorGui.updateTextureMap(\"env\", 1);";
                        };
                        new GuiBitmapButtonCtrl() {
                           canSaveDynamicFields = "0";
                           Enabled = "1";
                           isContainer = "0";
                           Profile = "ToolsGuiDefaultProfile";
                           HorizSizing = "left";
                           VertSizing = "bottom";
                           position = "177 34";
                           Extent = "16 16";
                           MinExtent = "8 2";
                           canSave = "1";
                           Visible = "1";
                           Command = "MaterialEditorGui.updateTextureMap(\"env\", 0);";
                           hovertime = "1000";
                           groupNum = "-1";
                           buttonType = "PushButton";
                           useMouseEvents = "0";
                           bitmap = "tools/gui/images/delete";
                        };
                     };
                  };
               };
               new GuiRolloutCtrl() {
                  class = "BehaviorQuickEditRollout";
                  superclass = LBQuickEditRollout;
                  Profile = "GuiRolloutProfile";
                  HorizSizing = "width";
                  VertSizing = "bottom";
                  Position = "0 0";
                  Extent = "195 0";
                  Caption = "Accumulation Properties";
                  Margin = "-1 0 0 0";
                  DragSizable = false;
                  container = true;
                  parentRollout = %this.rollout;
                  object = %behavior;
                  
                  new GuiStackControl() {
                     StackingType = "Vertical";
                     HorizStacking = "Left to Right";
                     VertStacking = "Top to Bottom";
                     Padding = "0";
                     canSaveDynamicFields = "0";
                     Enabled = "1";
                     isContainer = "1";
                     Profile = "GuiDefaultProfile";
                     HorizSizing = "width";
                     VertSizing = "bottom";
                     Position = "1 3";
                     Extent = "195 16";
                     MinExtent = "16 16";
                     canSave = "1";
                     isDecoy = "0";
                     Visible = "1";
                     tooltipprofile = "GuiToolTipProfile";
                     hovertime = "1000";
                     
                     new GuiContainer(){ // enable/disable
                        profile="GuiTransparentProfile";
                        isContainer = "1";
                        position = "0 0";
                        Extent = "195 24";
                        HorizSizing = "width";
                        
                        new GuiCheckBoxCtrl() {
                           canSaveDynamicFields = "0";
                           internalName = "accuCheckbox";
                           Enabled = "1";
                           isContainer = "0";
                           Profile = "ToolsGuiCheckBoxProfile";
                           HorizSizing = "right";
                           VertSizing = "bottom";
                           position = "8 7";
                           Extent = "57 16";
                           MinExtent = "8 2";
                           canSave = "1";
                           Visible = "1";
                           Command = "MaterialEditorGui.updateAccuCheckbox($ThisControl.getValue());";
                           tooltipprofile = "ToolsGuiDefaultProfile";
                           ToolTip = "Enables the use of Pixel Specular for this layer.";
                           hovertime = "1000";
                           text = "Enable";
                           groupNum = "-1";
                           buttonType = "ToggleButton";
                           useMouseEvents = "0";
                           useInactiveState = "0";
                        };  
                     };
                  
                     new GuiContainer(){ // scale
                        profile="GuiTransparentProfile";
                        isContainer = "1";
                        position = "0 0";
                        Extent = "195 24";
                        HorizSizing = "width";
                        
                        new GuiTextCtrl() {
                           canSaveDynamicFields = "0";
                           Enabled = "1";
                           isContainer = "0";
                           Profile = "GuiTextRightProfile";
                           HorizSizing = "right";
                           VertSizing = "bottom";
                           position = "8 3";
                           Extent = "54 16";
                           MinExtent = "8 2";
                           canSave = "1";
                           Visible = "1";
                           hovertime = "1000";
                           Margin = "0 0 0 0";
                           Padding = "0 0 0 0";
                           AnchorTop = "1";
                           AnchorBottom = "0";
                           AnchorLeft = "1";
                           AnchorRight = "0";
                           text = "Scale";
                           maxLength = "1024";
                        };

								new GuiControl() {
                           class = "AggregateControl";
                           position = "70 3";
                           Extent = "96 20";
                           
                           new GuiSliderCtrl() {
                              canSaveDynamicFields = "0";
                              internalName = "accuScaleSlider";
                              Enabled = "1";
                              isContainer = "0";
                              Profile = "GuiSliderProfile";
                              HorizSizing = "right";
                              VertSizing = "bottom";
                              position = "0 2";
                              Extent = "61 14";
                              MinExtent = "8 2";
                              canSave = "1";
                              Visible = "1";
                              Command = "MaterialEditorGui.updateActiveMaterial(\"accuScale[\" @ MaterialEditorGui.currentLayer @ \"]\", $ThisControl.getValue(), true, true);";
                              AltCommand = "$ThisControl.getParent().updateFromChild($ThisControl); MaterialEditorGui.updateActiveMaterial(\"accuScale[\" @ MaterialEditorGui.currentLayer @ \"]\", $ThisControl.getValue(), true, false);";
                              tooltipprofile = "GuiDefaultProfile";
                              ToolTip = "Sets the scale of the accu map.";
                              hovertime = "1000";
                              range = "0.03125 32";
                              ticks = "0";
                              value = "1";
                           };
                           new GuiTextEditCtrl() {
                              canSaveDynamicFields = "0";
                              internalName = "accuScaleTextEdit";
                              Enabled = "1";
                              isContainer = "0";
                              Profile = "GuiTextEditProfile";
                              HorizSizing = "right";
                              VertSizing = "bottom";
                              position = "64 0";
                              Extent = "29 18";
                              MinExtent = "8 2";
                              canSave = "1";
                              Visible = "1";
                              Command = "$ThisControl.getParent().updateFromChild($ThisControl); MaterialEditorGui.updateActiveMaterial(\"accuScale[\" @ MaterialEditorGui.currentLayer @ \"]\", $ThisControl.getValue());";
                              hovertime = "1000";
                              AnchorTop = "1";
                              AnchorBottom = "0";
                              AnchorLeft = "1";
                              AnchorRight = "0";
                              text = "1";
                              maxLength = "3";
                           };
                        };
                     };

                     new GuiContainer(){ // direction
                        profile="GuiTransparentProfile";
                        isContainer = "1";
                        position = "0 0";
                        Extent = "195 24";
                        HorizSizing = "width";
                        
                        new GuiTextCtrl() {
                           canSaveDynamicFields = "0";
                           Enabled = "1";
                           isContainer = "0";
                           Profile = "GuiTextRightProfile";
                           HorizSizing = "right";
                           VertSizing = "bottom";
                           position = "8 3";
                           Extent = "54 16";
                           MinExtent = "8 2";
                           canSave = "1";
                           Visible = "1";
                           hovertime = "1000";
                           Margin = "0 0 0 0";
                           Padding = "0 0 0 0";
                           AnchorTop = "1";
                           AnchorBottom = "0";
                           AnchorLeft = "1";
                           AnchorRight = "0";
                           text = "Direction";
                           maxLength = "1024";
                        };

								new GuiControl() {
                           class = "AggregateControl";
                           position = "70 3";
                           Extent = "96 20";
                           
                           new GuiSliderCtrl() {
                              canSaveDynamicFields = "0";
                              internalName = "accuDirectionSlider";
                              Enabled = "1";
                              isContainer = "0";
                              Profile = "GuiSliderProfile";
                              HorizSizing = "right";
                              VertSizing = "bottom";
                              position = "0 2";
                              Extent = "61 14";
                              MinExtent = "8 2";
                              canSave = "1";
                              Visible = "1";
                              Command = "MaterialEditorGui.updateActiveMaterial(\"accuDirection[\" @ MaterialEditorGui.currentLayer @ \"]\", $ThisControl.getValue(), true, true);";
                              AltCommand = "$ThisControl.getParent().updateFromChild($ThisControl); MaterialEditorGui.updateActiveMaterial(\"accuDirection[\" @ MaterialEditorGui.currentLayer @ \"]\", $ThisControl.getValue(), true, false);";
                              tooltipprofile = "GuiDefaultProfile";
                              ToolTip = "Sets the direction of the accu map.";
                              hovertime = "1000";
                              range = "-1 1";
                              ticks = "0";
                              value = "-1";
                           };
                           new GuiTextEditCtrl() {
                              canSaveDynamicFields = "0";
                              internalName = "accuDirectionTextEdit";
                              Enabled = "1";
                              isContainer = "0";
                              Profile = "GuiTextEditProfile";
                              HorizSizing = "right";
                              VertSizing = "bottom";
                              position = "64 0";
                              Extent = "29 18";
                              MinExtent = "8 2";
                              canSave = "1";
                              Visible = "1";
                              Command = "$ThisControl.getParent().updateFromChild($ThisControl); MaterialEditorGui.updateActiveMaterial(\"accuDirection[\" @ MaterialEditorGui.currentLayer @ \"]\", $ThisControl.getValue());";
                              hovertime = "1000";
                              AnchorTop = "1";
                              AnchorBottom = "0";
                              AnchorLeft = "1";
                              AnchorRight = "0";
                              text = "-1";
                              maxLength = "3";
                           };
                        };
                     };
                     new GuiContainer(){ // strength
                        profile="GuiTransparentProfile";
                        isContainer = "1";
                        position = "0 0";
                        Extent = "195 24";
                        HorizSizing = "width";
                        
                        new GuiTextCtrl() {
                           canSaveDynamicFields = "0";
                           Enabled = "1";
                           isContainer = "0";
                           Profile = "GuiTextRightProfile";
                           HorizSizing = "right";
                           VertSizing = "bottom";
                           position = "8 3";
                           Extent = "54 16";
                           MinExtent = "8 2";
                           canSave = "1";
                           Visible = "1";
                           hovertime = "1000";
                           Margin = "0 0 0 0";
                           Padding = "0 0 0 0";
                           AnchorTop = "1";
                           AnchorBottom = "0";
                           AnchorLeft = "1";
                           AnchorRight = "0";
                           text = "Strength";
                           maxLength = "1024";
                        };

								new GuiControl() {
                           class = "AggregateControl";
                           position = "70 3";
                           Extent = "96 20";
                           
                           new GuiSliderCtrl() {
                              canSaveDynamicFields = "0";
                              internalName = "accuStrengthSlider";
                              Enabled = "1";
                              isContainer = "0";
                              Profile = "GuiSliderProfile";
                              HorizSizing = "right";
                              VertSizing = "bottom";
                              position = "0 2";
                              Extent = "61 14";
                              MinExtent = "8 2";
                              canSave = "1";
                              Visible = "1";
                              Command = "MaterialEditorGui.updateActiveMaterial(\"accuStrength[\" @ MaterialEditorGui.currentLayer @ \"]\", $ThisControl.getValue(), true, true);";
                              AltCommand = "$ThisControl.getParent().updateFromChild($ThisControl); MaterialEditorGui.updateActiveMaterial(\"accuStrength[\" @ MaterialEditorGui.currentLayer @ \"]\", $ThisControl.getValue(), true, false);";
                              tooltipprofile = "GuiDefaultProfile";
                              ToolTip = "Sets the strength of the accu map.";
                              hovertime = "1000";
                              range = "0 1";
                              ticks = "0";
                              value = "0.6";
                           };
                           new GuiTextEditCtrl() {
                              canSaveDynamicFields = "0";
                              internalName = "accuStrengthTextEdit";
                              Enabled = "1";
                              isContainer = "0";
                              Profile = "GuiTextEditProfile";
                              HorizSizing = "right";
                              VertSizing = "bottom";
                              position = "64 0";
                              Extent = "29 18";
                              MinExtent = "8 2";
                              canSave = "1";
                              Visible = "1";
                              Command = "$ThisControl.getParent().updateFromChild($ThisControl); MaterialEditorGui.updateActiveMaterial(\"accuStrength[\" @ MaterialEditorGui.currentLayer @ \"]\", $ThisControl.getValue());";
                              hovertime = "1000";
                              AnchorTop = "1";
                              AnchorBottom = "0";
                              AnchorLeft = "1";
                              AnchorRight = "0";
                              text = "0.6";
                              maxLength = "3";
                           };
                        };
                     };
                     new GuiContainer(){ // coverage
                        profile="GuiTransparentProfile";
                        isContainer = "1";
                        position = "0 0";
                        Extent = "195 24";
                        HorizSizing = "width";
                        
                        new GuiTextCtrl() {
                           canSaveDynamicFields = "0";
                           Enabled = "1";
                           isContainer = "0";
                           Profile = "GuiTextRightProfile";
                           HorizSizing = "right";
                           VertSizing = "bottom";
                           position = "8 3";
                           Extent = "54 16";
                           MinExtent = "8 2";
                           canSave = "1";
                           Visible = "1";
                           hovertime = "1000";
                           Margin = "0 0 0 0";
                           Padding = "0 0 0 0";
                           AnchorTop = "1";
                           AnchorBottom = "0";
                           AnchorLeft = "1";
                           AnchorRight = "0";
                           text = "Coverage";
                           maxLength = "1024";
                        };

								new GuiControl() {
                           class = "AggregateControl";
                           position = "70 3";
                           Extent = "96 20";
                           
                           new GuiSliderCtrl() {
                              canSaveDynamicFields = "0";
                              internalName = "accuCoverageSlider";
                              Enabled = "1";
                              isContainer = "0";
                              Profile = "GuiSliderProfile";
                              HorizSizing = "right";
                              VertSizing = "bottom";
                              position = "0 2";
                              Extent = "61 14";
                              MinExtent = "8 2";
                              canSave = "1";
                              Visible = "1";
                              Command = "MaterialEditorGui.updateActiveMaterial(\"accuCoverage[\" @ MaterialEditorGui.currentLayer @ \"]\", $ThisControl.getValue(), true, true);";
                              AltCommand = "$ThisControl.getParent().updateFromChild($ThisControl); MaterialEditorGui.updateActiveMaterial(\"accuCoverage[\" @ MaterialEditorGui.currentLayer @ \"]\", $ThisControl.getValue(), true, false);";
                              tooltipprofile = "GuiDefaultProfile";
                              ToolTip = "Sets the coverage of the accu map.";
                              hovertime = "1000";
                              range = "0 2";
                              ticks = "0";
                              value = "1";
                           };
                           new GuiTextEditCtrl() {
                              canSaveDynamicFields = "0";
                              internalName = "accuCoverageTextEdit";
                              Enabled = "1";
                              isContainer = "0";
                              Profile = "GuiTextEditProfile";
                              HorizSizing = "right";
                              VertSizing = "bottom";
                              position = "64 0";
                              Extent = "29 18";
                              MinExtent = "8 2";
                              canSave = "1";
                              Visible = "1";
                              Command = "$ThisControl.getParent().updateFromChild($ThisControl); MaterialEditorGui.updateActiveMaterial(\"accuCoverage[\" @ MaterialEditorGui.currentLayer @ \"]\", $ThisControl.getValue());";
                              hovertime = "1000";
                              AnchorTop = "1";
                              AnchorBottom = "0";
                              AnchorLeft = "1";
                              AnchorRight = "0";
                              text = "1";
                              maxLength = "3";
                           };
                        };
                     };
                     new GuiContainer(){ // specular
                        profile="GuiTransparentProfile";
                        isContainer = "1";
                        position = "0 0";
                        Extent = "195 24";
                        HorizSizing = "width";
                        
                        new GuiTextCtrl() {
                           canSaveDynamicFields = "0";
                           Enabled = "1";
                           isContainer = "0";
                           Profile = "GuiTextRightProfile";
                           HorizSizing = "right";
                           VertSizing = "bottom";
                           position = "8 3";
                           Extent = "54 16";
                           MinExtent = "8 2";
                           canSave = "1";
                           Visible = "1";
                           hovertime = "1000";
                           Margin = "0 0 0 0";
                           Padding = "0 0 0 0";
                           AnchorTop = "1";
                           AnchorBottom = "0";
                           AnchorLeft = "1";
                           AnchorRight = "0";
                           text = "Specular scale";
                           maxLength = "1024";
                        };

								new GuiControl() {
                           class = "AggregateControl";
                           position = "70 3";
                           Extent = "96 20";
                           
                           new GuiSliderCtrl() {
                              canSaveDynamicFields = "0";
                              internalName = "accuSpecularSlider";
                              Enabled = "1";
                              isContainer = "0";
                              Profile = "GuiSliderProfile";
                              HorizSizing = "right";
                              VertSizing = "bottom";
                              position = "0 2";
                              Extent = "61 14";
                              MinExtent = "8 2";
                              canSave = "1";
                              Visible = "1";
                              Command = "MaterialEditorGui.updateActiveMaterial(\"accuSpecular[\" @ MaterialEditorGui.currentLayer @ \"]\", $ThisControl.getValue(), true, true);";
                              AltCommand = "$ThisControl.getParent().updateFromChild($ThisControl); MaterialEditorGui.updateActiveMaterial(\"accuSpecular[\" @ MaterialEditorGui.currentLayer @ \"]\", $ThisControl.getValue(), true, false);";
                              tooltipprofile = "GuiDefaultProfile";
                              ToolTip = "Sets the specular scale over the accu map.";
                              hovertime = "1000";
                              range = "0 2";
                              ticks = "0";
                              value = "1";
                           };
                           new GuiTextEditCtrl() {
                              canSaveDynamicFields = "0";
                              internalName = "accuSpecularTextEdit";
                              Enabled = "1";
                              isContainer = "0";
                              Profile = "GuiTextEditProfile";
                              HorizSizing = "right";
                              VertSizing = "bottom";
                              position = "64 0";
                              Extent = "29 18";
                              MinExtent = "8 2";
                              canSave = "1";
                              Visible = "1";
                              Command = "$ThisControl.getParent().updateFromChild($ThisControl); MaterialEditorGui.updateActiveMaterial(\"accuSpecular[\" @ MaterialEditorGui.currentLayer @ \"]\", $ThisControl.getValue());";
                              hovertime = "1000";
                              AnchorTop = "1";
                              AnchorBottom = "0";
                              AnchorLeft = "1";
                              AnchorRight = "0";
                              text = "1";
                              maxLength = "3";
                           };
                        };
                     };

                  };
               };
               new GuiRolloutCtrl() {
                  class = "BehaviorQuickEditRollout";
                  superclass = LBQuickEditRollout;
                  Profile = "GuiRolloutProfile";
                  HorizSizing = "width";
                  VertSizing = "bottom";
                  Position = "0 0";
                  Extent = "185 0";
                  Caption = "Lighting Properties";
                  Margin = "-1 0 0 0";
                  DragSizable = false;
                  container = true;
                  parentRollout = %this.rollout;
                  object = %behavior;
                  
                  new GuiStackControl() {
                     StackingType = "Vertical";
                     HorizStacking = "Left to Right";
                     VertStacking = "Top to Bottom";
                     Padding = "0";
                     canSaveDynamicFields = "0";
                     Enabled = "1";
                     isContainer = "1";
                     Profile = "ToolsGuiDefaultProfile";
                     HorizSizing = "width";
                     VertSizing = "bottom";
                     Position = "1 3";
                     Extent = "185 16";
                     MinExtent = "16 16";
                     canSave = "1";
                     isDecoy = "0";
                     Visible = "1";
                     tooltipprofile = "ToolsGuiToolTipProfile";
                     hovertime = "1000";
                  
                     new GuiContainer(){ // specular
                        profile = "ToolsGuiTransparentProfile";
                        isContainer = "1";
                        position = "0 0";
                        Extent = "185 44";
                        HorizSizing = "width";
                        
                        new GuiCheckBoxCtrl() {
                           canSaveDynamicFields = "0";
                           internalName = "pixelSpecularCheckbox";
                           Enabled = "1";
                           isContainer = "0";
                           Profile = "ToolsGuiCheckBoxProfile";
                           HorizSizing = "right";
                           VertSizing = "bottom";
                           position = "8 4";
                           Extent = "57 16";
                           MinExtent = "8 2";
                           canSave = "1";
                           Visible = "1";
                           Command = "MaterialEditorGui.updateSpecularCheckbox($ThisControl.getValue());";
                           tooltipprofile = "ToolsGuiDefaultProfile";
                           ToolTip = "Enables the use of Pixel Specular for this layer.";
                           hovertime = "1000";
                           text = "Specular";
                           groupNum = "-1";
                           buttonType = "ToggleButton";
                           useMouseEvents = "0";
                           useInactiveState = "0";
                        };
                        new GuiSwatchButtonCtrl() {
                           canSaveDynamicFields = "0";
                           internalName = "specularColorSwatch";
                           Enabled = "1";
                           isContainer = "0";
                           Profile = "GuiInspectorSwatchButtonProfile";
                           HorizSizing = "right";
                           VertSizing = "bottom";
                           position = "69 4";
                           Extent = "16 16";
                           MinExtent = "8 2";
                           canSave = "1";
                           Visible = "1";
                           Command = "getColorF(materialEd_PreviewMaterial.specular[MaterialEditorGui.currentLayer], \"MaterialEditorGui.updateSpecular\");";
                           hovertime = "1000";
                           groupNum = "-1";
                           buttonType = "PushButton";
                           useMouseEvents = "0";
                        };
                        
                        new GuiTextCtrl() {
                           HorizSizing = "right";
                           VertSizing = "bottom";
                           position = "9 26";
                           Extent = "72 16";
                           text = "Spec strength";
                        };

                        new GuiControl() {
                           class = "AggregateControl";
                           position = "91 4";
                           Extent = "96 20";
                           
                           new GuiSliderCtrl() {
                              canSaveDynamicFields = "0";
                              internalName = "specularPowerSlider";
                              Enabled = "1";
                              isContainer = "0";
                              Profile = "ToolsGuiSliderProfile";
                              HorizSizing = "right";
                              VertSizing = "bottom";
                              position = "0 1";
                              Extent = "61 14";
                              MinExtent = "8 2";
                              canSave = "1";
                              Visible = "1";
                              Command = "MaterialEditorGui.updateActiveMaterial(\"specularPower[\" @ MaterialEditorGui.currentLayer @ \"]\", mCeil($ThisControl.getValue()), true, true);";
                              AltCommand = "$ThisControl.getParent().updateFromChild($ThisControl); MaterialEditorGui.updateActiveMaterial(\"specularPower[\" @ MaterialEditorGui.currentLayer @ \"]\", mCeil($ThisControl.getValue()), true, false);";
                              tooltipprofile = "ToolsGuiDefaultProfile";
                              ToolTip = "Sets the hardness of the Pixel Specular value.";
                              hovertime = "1000";
                              range = "1 128";
                              ticks = "0";
                              value = "1";
                           };
                           new GuiTextEditCtrl() {
                              canSaveDynamicFields = "0";
                              internalName = "specularPowerTextEdit";
                              Enabled = "1";
                              isContainer = "0";
                              Profile = "ToolsGuiTextEditProfile";
                              HorizSizing = "right";
                              VertSizing = "bottom";
                              position = "64 0";
                              Extent = "29 18";
                              MinExtent = "8 2";
                              canSave = "1";
                              Visible = "1";
                              Command = "$ThisControl.getParent().updateFromChild($ThisControl); MaterialEditorGui.updateActiveMaterial(\"specularPower[\" @ MaterialEditorGui.currentLayer @ \"]\", mCeil($ThisControl.getValue()));";
                              hovertime = "1000";
                              AnchorTop = "1";
                              AnchorBottom = "0";
                              AnchorLeft = "1";
                              AnchorRight = "0";
                              text = "32";
                              maxLength = "3";
                           };
                        };

                        new GuiControl() {
                           class = "AggregateControl";
                           position = "91 26";
                           Extent = "96 20";

                           new GuiSliderCtrl() {
                              canSaveDynamicFields = "0";
                              internalName = "specularStrengthSlider";
                              Enabled = "1";
                              isContainer = "0";
                              Profile = "ToolsGuiSliderProfile";
                              HorizSizing = "right";
                              VertSizing = "bottom";
                              position = "0 1";
                              Extent = "61 14";
                              MinExtent = "8 2";
                              canSave = "1";
                              Visible = "1";
                              Command = "MaterialEditorGui.updateActiveMaterial(\"specularStrength[\" @ MaterialEditorGui.currentLayer @ \"]\", $ThisControl.getValue(), true, true);";
                              AltCommand = "$ThisControl.getParent().updateFromChild($ThisControl); MaterialEditorGui.updateActiveMaterial(\"specularStrength[\" @ MaterialEditorGui.currentLayer @ \"]\", $ThisControl.getValue(), true, false);";
                              tooltipprofile = "ToolsGuiDefaultProfile";
                              ToolTip = "Sets the strength of the Pixel Specular value.";
                              hovertime = "1000";
                              range = "0 5";
                              ticks = "0";
                              value = "1";
                           };
                           new GuiTextEditCtrl() {
                              canSaveDynamicFields = "0";
                              internalName = "specularStrengthTextEdit";
                              Enabled = "1";
                              isContainer = "0";
                              Profile = "ToolsGuiTextEditProfile";
                              HorizSizing = "right";
                              VertSizing = "bottom";
                              position = "64 0";
                              Extent = "29 18";
                              MinExtent = "8 2";
                              canSave = "1";
                              Visible = "1";
                              Command = "$ThisControl.getParent().updateFromChild($ThisControl); MaterialEditorGui.updateActiveMaterial(\"specularStrength[\" @ MaterialEditorGui.currentLayer @ \"]\", $ThisControl.getValue());";
                              hovertime = "1000";
                              AnchorTop = "1";
                              AnchorBottom = "0";
                              AnchorLeft = "1";
                              AnchorRight = "0";
                              text = "1";
                              maxLength = "3";
                           };
                        };
                     };
                     new GuiContainer(){ // glow emissive
                        profile = "ToolsGuiTransparentProfile";
                        isContainer = "1";
                        position = "0 0";
                        Extent = "185 22";
                        HorizSizing = "width";
                        
                        new GuiCheckBoxCtrl() {
                           canSaveDynamicFields = "0";
                           internalName = "glowCheckbox";
                           Enabled = "1";
                           isContainer = "0";
                           Profile = "ToolsGuiCheckBoxProfile";
                           HorizSizing = "right";
                           VertSizing = "bottom";
                           position = "70 4";
                           Extent = "40 16";
                           MinExtent = "8 2";
                           canSave = "1";
                           Visible = "1";
                           Command = "MaterialEditorGui.updateActiveMaterial(\"glow[\" @ MaterialEditorGui.currentLayer @ \"]\", $ThisControl.getValue());";
                           tooltipprofile = "ToolsGuiDefaultProfile";
                           ToolTip = "Determines if this layer will Glow or not.";
                           hovertime = "1000";
                           text = "Glow";
                           groupNum = "-1";
                           buttonType = "ToggleButton";
                           useMouseEvents = "0";
                           useInactiveState = "0";
                        };
                        new GuiCheckBoxCtrl() {
                           canSaveDynamicFields = "0";
                           internalName = "emissiveCheckbox";
                           Enabled = "1";
                           isContainer = "0";
                           Profile = "ToolsGuiCheckBoxProfile";
                           HorizSizing = "right";
                           VertSizing = "bottom";
                           position = "8 4";
                           Extent = "60 16";
                           MinExtent = "8 2";
                           canSave = "1";
                           Visible = "1";
                           Command = "MaterialEditorGui.updateActiveMaterial(\"emissive[\" @ MaterialEditorGui.currentLayer @ \"]\",$ThisControl.getValue());";
                           tooltipprofile = "ToolsGuiDefaultProfile";
                           ToolTip = "Emissive causes an object to not be affected by lights. Good for light sources.";
                           hovertime = "1000";
                           text = "Emissive";
                           groupNum = "-1";
                           buttonType = "ToggleButton";
                           useMouseEvents = "0";
                           useInactiveState = "0";
                        };
                     };
                     new GuiContainer(){ // parallax
                        profile = "ToolsGuiTransparentProfile";
                        isContainer = "1";
                        position = "0 0";
                        Extent = "185 24";
                        HorizSizing = "width";
                        
                        new GuiTextCtrl() {
                           canSaveDynamicFields = "0";
                           Enabled = "1";
                           isContainer = "0";
                           Profile = "ToolsGuiTextRightProfile";
                           HorizSizing = "right";
                           VertSizing = "bottom";
                           position = "8 3";
                           Extent = "54 16";
                           MinExtent = "8 2";
                           canSave = "1";
                           Visible = "1";
                           hovertime = "1000";
                           Margin = "0 0 0 0";
                           Padding = "0 0 0 0";
                           AnchorTop = "1";
                           AnchorBottom = "0";
                           AnchorLeft = "1";
                           AnchorRight = "0";
                           text = "Parallax";
                           maxLength = "1024";
                        };
                        
                        new GuiControl() {
                           class = "AggregateControl";
                           position = "70 3";
                           Extent = "115 20";
                           
                           new GuiSliderCtrl() {
                              canSaveDynamicFields = "0";
                              internalName = "parallaxSlider";
                              Enabled = "1";
                              isContainer = "0";
                              Profile = "ToolsGuiSliderProfile";
                              HorizSizing = "right";
                              VertSizing = "bottom";
                              position = "0 2";
                              Extent = "82 15";
                              MinExtent = "8 2";
                              canSave = "1";
                              Visible = "1";
                              Command = "MaterialEditorGui.updateActiveMaterial(\"parallaxScale[\" @ MaterialEditorGui.currentLayer @ \"]\",$ThisControl.getValue(), true, true);";
                              AltCommand = "$ThisControl.getParent().updateFromChild($ThisControl);MaterialEditorGui.updateActiveMaterial(\"parallaxScale[\" @ MaterialEditorGui.currentLayer @ \"]\",$ThisControl.getValue(), true, false);";
                              tooltipprofile = "ToolsGuiDefaultProfile";
                              ToolTip = "Parallax Scale";
                              hovertime = "1000";
                              range = "0 1";
                              ticks = "0";
                              value = "0";
                           };
                           new GuiTextEditCtrl() {
                              canSaveDynamicFields = "0";
                              internalName = "parallaxTextEdit";
                              Enabled = "1";
                              isContainer = "0";
                              Profile = "ToolsGuiTextEditProfile";
                              HorizSizing = "right";
                              VertSizing = "bottom";
                              position = "85 0";
                              Extent = "29 18";
                              MinExtent = "8 2";
                              canSave = "1";
                              Visible = "1";
                              Command = "$ThisControl.getParent().updateFromChild($ThisControl);MaterialEditorGui.updateActiveMaterial(\"parallaxScale[\" @ MaterialEditorGui.currentLayer @ \"]\",$ThisControl.getValue());";
                              hovertime = "1000";
                              AnchorTop = "1";
                              AnchorBottom = "0";
                              AnchorLeft = "1";
                              AnchorRight = "0";
                              text = "0";
                              maxLength = "3";
                           };
                        };
                     };
                     new GuiContainer(){
                        profile = "ToolsGuiTransparentProfile";
                        isContainer = "1";
                        position = "0 0";
                        Extent = "185 84";
                        HorizSizing = "width";

                        new GuiCheckBoxCtrl() {
                           canSaveDynamicFields = "0";
                           internalName = "useAnisoCheckbox";
                           Enabled = "1";
                           isContainer = "0";
                           Profile = "ToolsGuiCheckBoxProfile";
                           HorizSizing = "right";
                           VertSizing = "bottom";
                           position = "8 4";
                           Extent = "108 16";
                           MinExtent = "8 2";
                           canSave = "1";
                           Visible = "1";
                           Command = "MaterialEditorGui.updateActiveMaterial(\"useAnisotropic[\" @ MaterialEditorGui.currentLayer @ \"]\", $ThisControl.getValue());";
                           tooltipprofile = "ToolsGuiDefaultProfile";
                           ToolTip = "Enables the use of anisotropic filtering for this layer.";
                           hovertime = "1000";
                           text = "Anisotropic filtering";
                           groupNum = "-1";
                           buttonType = "ToggleButton";
                           useMouseEvents = "0";
                           useInactiveState = "0";
                        };
                        new GuiCheckBoxCtrl() {
                           canSaveDynamicFields = "0";
                           internalName = "vertLitCheckbox";
                           Enabled = "1";
                           isContainer = "0";
                           Profile = "ToolsGuiCheckBoxProfile";
                           HorizSizing = "right";
                           VertSizing = "bottom";
                           position = "8 25";
                           Extent = "102 16";
                           MinExtent = "8 2";
                           canSave = "1";
                           Visible = "1";
                           Command = "MaterialEditorGui.updateActiveMaterial(\"vertLit[\" @ MaterialEditorGui.currentLayer @ \"]\", $ThisControl.getValue());";
                           tooltipprofile = "ToolsGuiDefaultProfile";
                           ToolTip = "Enables the use of vertex lighting for this layer.";
                           hovertime = "1000";
                           text = "Vertex lit";
                           groupNum = "-1";
                           buttonType = "ToggleButton";
                           useMouseEvents = "0";
                           useInactiveState = "0";
                        };
                        new GuiCheckBoxCtrl() {
                           canSaveDynamicFields = "0";
                           internalName = "vertLitCheckbox";
                           Enabled = "1";
                           isContainer = "0";
                           Profile = "ToolsGuiCheckBoxProfile";
                           HorizSizing = "right";
                           VertSizing = "bottom";
                           position = "113 25";
                           Extent = "102 16";
                           MinExtent = "8 2";
                           canSave = "1";
                           Visible = "1";
                           Command = "MaterialEditorGui.updateActiveMaterial(\"vertColor[\" @ MaterialEditorGui.currentLayer @ \"]\", $ThisControl.getValue());";
                           tooltipprofile = "ToolsGuiDefaultProfile";
                           ToolTip = "Multiply vertex colors with diffuse colors for this layer.";
                           hovertime = "1000";
                           text = "Vertex colors";
                           groupNum = "-1";
                           buttonType = "ToggleButton";
                           useMouseEvents = "0";
                           useInactiveState = "0";
                        };
                        new GuiCheckBoxCtrl() {
                           canSaveDynamicFields = "0";
                           internalName = "subSurfaceCheckbox";
                           Enabled = "1";
                           isContainer = "0";
                           Profile = "ToolsGuiCheckBoxProfile";
                           HorizSizing = "right";
                           VertSizing = "bottom";
                           position = "8 46";
                           Extent = "79 16";
                           MinExtent = "8 2";
                           canSave = "1";
                           Visible = "1";
                           Command = "MaterialEditorGui.updateActiveMaterial(\"subSurface[\" @ MaterialEditorGui.currentLayer @ \"]\", $ThisControl.getValue());";
                           tooltipprofile = "ToolsGuiDefaultProfile";
                           ToolTip = "Enables the use of subsurface scattering for this layer.";
                           hovertime = "1000";
                           text = "Sub Surface";
                           groupNum = "-1";
                           buttonType = "ToggleButton";
                           useMouseEvents = "0";
                           useInactiveState = "0";
                        };
                        new GuiSwatchButtonCtrl() {
                           canSaveDynamicFields = "0";
                           internalName = "subSurfaceColorSwatch";
                           Enabled = "1";
                           isContainer = "0";
                           Profile = "GuiInspectorSwatchButtonProfile";
                           HorizSizing = "right";
                           VertSizing = "bottom";
                           position = "90 46";
                           Extent = "16 16";
                           MinExtent = "8 2";
                           canSave = "1";
                           Visible = "1";
                           Command = "getColorF(materialEd_PreviewMaterial.subSurfaceColor[MaterialEditorGui.currentLayer], \"MaterialEditorGui.updateSubSurfaceColor\");";
                           tooltip = "Set the subsurface scattering color";
                           hovertime = "1000";
                           groupNum = "-1";
                           buttonType = "PushButton";
                           useMouseEvents = "0";
                        };
                        new GuiTextEditCtrl() {
                           canSaveDynamicFields = "0";
                           internalName = "subSurfaceRolloffTextEdit";
                           Enabled = "1";
                           isContainer = "0";
                           Profile = "ToolsGuiTextEditProfile";
                           HorizSizing = "right";
                           VertSizing = "bottom";
                           position = "114 45";
                           Extent = "29 18";
                           MinExtent = "8 2";
                           canSave = "1";
                           Visible = "1";
                           tooltip = "Set the subsurface rolloff factor";
                           Command = "MaterialEditorGui.updateActiveMaterial(\"subSurfaceRolloff[\" @ MaterialEditorGui.currentLayer @ \"]\", $ThisControl.getText());";
                           hovertime = "1000";
                           AnchorTop = "1";
                           AnchorBottom = "0";
                           AnchorLeft = "1";
                           AnchorRight = "0";
                           text = "32";
                           maxLength = "5";
                        };
                        new GuiTextCtrl() {
                           HorizSizing = "right";
                           VertSizing = "bottom";
                           position = "9 65";
                           Extent = "89 16";
                           text = "Minnaert constant";
                        };
                        new GuiTextEditCtrl() {
                           canSaveDynamicFields = "0";
                           internalName = "minnaertTextEdit";
                           Enabled = "1";
                           isContainer = "0";
                           Profile = "ToolsGuiTextEditProfile";
                           HorizSizing = "right";
                           VertSizing = "bottom";
                           position = "114 65";
                           Extent = "29 18";
                           MinExtent = "8 2";
                           canSave = "1";
                           Visible = "1";
                           Command = "MaterialEditorGui.updateActiveMaterial(\"minnaertConstant[\" @ MaterialEditorGui.currentLayer @ \"]\", $ThisControl.getText());";
                           hovertime = "1000";
                           AnchorTop = "1";
                           AnchorBottom = "0";
                           AnchorLeft = "1";
                           AnchorRight = "0";
                           text = "32";
                           maxLength = "3";
                        };
                     };
                  };
               };
               new GuiRolloutCtrl(materialAnimationPropertiesRollout) {
                  class = "BehaviorQuickEditRollout";
                  superclass = LBQuickEditRollout;
                  Profile = "GuiRolloutProfile";
                  HorizSizing = "width";
                  VertSizing = "bottom";
                  Position = "0 0";
                  Extent = "185 0";
                  Caption = "Animation Properties";
                  Margin = "-1 0 0 0";
                  DragSizable = false;
                  Expanded = false;
                  container = true;
                  parentRollout = %this.rollout;
                  object = %behavior;
                  
                  new GuiStackControl() {
                     StackingType = "Vertical";
                     HorizStacking = "Left to Right";
                     VertStacking = "Top to Bottom";
                     Padding = "0";
                     canSaveDynamicFields = "0";
                     Enabled = "1";
                     isContainer = "1";
                     Profile = "ToolsGuiDefaultProfile";
                     HorizSizing = "width";
                     VertSizing = "bottom";
                     Position = "1 3";
                     Extent = "185 16";
                     MinExtent = "16 16";
                     canSave = "1";
                     isDecoy = "0";
                     Visible = "1";
                     tooltipprofile = "ToolsGuiToolTipProfile";
                     hovertime = "1000";
                  
                     new GuiContainer(){ // Rotation Animation Properties
                        profile="inspectorStyleRolloutInnerProfile";
                        isContainer = "1";
                        position = "-1 96";
                        Extent = "185 94";
                        HorizSizing = "width";
                        
                        new GuiCheckboxCtrl() {
                           canSaveDynamicFields = "0";
                           internalName = "RotationAnimation";
                           Enabled = "1";
                           isContainer = "0";
                           Profile = "ToolsGuiInspectorCheckBoxTitleProfile";
                           HorizSizing = "right";
                           VertSizing = "bottom";
                           position = "4 -1";
                           Extent = "112 18";
                           MinExtent = "8 2";
                           canSave = "1";
                           Visible = "1";
                           Command = "MaterialEditorGui.updateAnimationFlags();";
                           hovertime = "1000";
                           Margin = "0 0 0 0";
                           Padding = "0 0 0 0";
                           AnchorTop = "1";
                           AnchorBottom = "0";
                           AnchorLeft = "1";
                           AnchorRight = "0";
                           text = "Rotation Animation";
                           maxLength = "1024";
                        };
                        
                        new GuiControl(){
                           class = "AggregateControl";
                           position = "0 29";
                           Extent = "135 20";
                           
                           new GuiTextCtrl(){ // u
                              HorizSizing = "right";
                              VertSizing = "bottom";
                              position = "11 1";
                              Extent = "12 16";
                              text = "U";
                           };
                        
                           new GuiSliderCtrl() { // u
                              Profile = "ToolsGuiSliderProfile";
                              internalName = "RotationSliderU";
                              HorizSizing = "right";
                              VertSizing = "bottom";
                              position = "25 2";
                              Extent = "68 15";
                              Command = "MaterialEditorGui.updateRotationOffset(true, true);";
                              AltCommand = "$ThisControl.getParent().updateFromChild($ThisControl); MaterialEditorGui.updateRotationOffset(true, false);";
                              tooltipprofile = "ToolsGuiDefaultProfile";
                              ToolTip = "Change U Scroll Direction";
                              hovertime = "1000";
                              range = "-1 0";
                              ticks = "0";
                              value = "0";
                           };
                           new GuiTextEditCtrl(){ // u
                              internalName = "RotationTextEditU";
                              HorizSizing = "right";
                              VertSizing = "bottom";
                              position = "98 0";
                              Extent = "34 18";
                              text = "0";
                              Command = "$ThisControl.getParent().updateFromChild($ThisControl);";
                           };
                        };
                        
                        
                        
                        new GuiControl() {
                           class = "AggregateControl";
                           position = "0 50";
                           Extent = "135 20";
                           
                           new GuiTextCtrl(){ // v
                              HorizSizing = "right";
                              VertSizing = "bottom";
                              position = "11 1";
                              Extent = "12 16";
                              text = "V";
                           };
                        
                           new GuiSliderCtrl() { // v
                              Profile = "ToolsGuiSliderProfile";
                              internalName = "RotationSliderV";
                              HorizSizing = "right";
                              VertSizing = "bottom";
                              position = "25 2";
                              Extent = "68 15";
                              Command = "MaterialEditorGui.updateRotationOffset(true, true);";
                              AltCommand = "$ThisControl.getParent().updateFromChild($ThisControl); MaterialEditorGui.updateRotationOffset(true, false);";
                              tooltipprofile = "ToolsGuiDefaultProfile";
                              ToolTip = "Change V Scroll Direction";
                              hovertime = "1000";
                              range = "-1 0";
                              ticks = "0";
                              value = "0";
                           };
                           
                           new GuiTextEditCtrl(){ // v
                              internalName = "RotationTextEditV";
                              HorizSizing = "right";
                              VertSizing = "bottom";
                              position = "98 0";
                              Extent = "34 18";
                              text = "0";
                              Command = "$ThisControl.getParent().updateFromChild($ThisControl); MaterialEditorGui.updateRotationOffset();";
                           };
                        };
                        new GuiTextCtrl(){ // Pivot Point
                           HorizSizing = "right";
                           VertSizing = "bottom";
                           position = "98 16";
                           Extent = "34 16";
                           text = "Pivot";
                        };
                        new GuiBitmapCtrl(){
                           HorizSizing = "right";
                           VertSizing = "bottom";
                           position = "136 20";
                           Extent = "48 48";
                           isContainer = true;
                           bitmap="";
                           
                           new GuiBitmapCtrl(){
                              HorizSizing = "right";
                              VertSizing = "bottom";
                              position = "0 0";
                              Extent = "48 48";
                              bitmap="tools/materialEditor/gui/cubemapBtnBorder_n";
                           };
                           
                           new GuiBitmapCtrl(){ //horizontal bar
                              internalName = "RotationCrosshair";
                              HorizSizing = "right";
                              VertSizing = "bottom";
                              position = "20 20";
                              Extent = "7 7";
                              MinExtent = "0 0";
                              bitmap="tools/gui/images/crosshair_blue";
                           };
                        };
                        
                        new GuiControl() {
                           class = "AggregateControl";
                           position = "0 70";
                           Extent = "187 20";
                           
                           new GuiTextCtrl(){ // Speed
                              HorizSizing = "right";
                              VertSizing = "bottom";
                              position = "11 0";
                              Extent = "43 16";
                              text = "Speed";
                           };
                           
                           new GuiSliderCtrl() {
                              canSaveDynamicFields = "0";
                              internalName = "RotationSpeedSlider";
                              Enabled = "1";
                              isContainer = "0";
                              Profile = "ToolsGuiSliderProfile";
                              HorizSizing = "right";
                              VertSizing = "bottom";
                              position = "49 3";
                              Extent = "95 16";
                              MinExtent = "8 2";
                              canSave = "1";
                              Visible = "1";
                              Command = "MaterialEditorGui.updateRotationSpeed(true, true);";
                              AltCommand = "$ThisControl.getParent().updateFromChild($ThisControl); MaterialEditorGui.updateRotationSpeed(true, false);";
                              tooltipprofile = "ToolsGuiDefaultProfile";
                              ToolTip = "Scrolling Speed";
                              hovertime = "1000";
                              range = "-10 10";
                              ticks = "0";
                              value = "0";
                           };
                           
                           new GuiTextEditCtrl() {
                              canSaveDynamicFields = "0";
                              internalName = "RotationSpeedTextEdit";
                              Enabled = "1";
                              isContainer = "0";
                              Profile = "ToolsGuiTextEditProfile";
                              HorizSizing = "right";
                              VertSizing = "bottom";
                              position = "150 1";
                              Extent = "34 18";
                              MinExtent = "8 2";
                              canSave = "1";
                              Visible = "1";
                              Command = "$ThisControl.getParent().updateFromChild($ThisControl); MaterialEditorGui.updateRotationSpeed();";
                              hovertime = "1000";
                              Margin = "0 0 0 0";
                              Padding = "0 0 0 0";
                              AnchorTop = "1";
                              AnchorBottom = "0";
                              AnchorLeft = "1";
                              AnchorRight = "0";
                              text = "0";
                              maxLength = "1024";
                              historySize = "0";
                              password = "0";
                              tabComplete = "0";
                              sinkAllKeyEvents = "0";
                              password = "0";
                              passwordMask = "*";
                           };
                        };
                     };
                     new GuiContainer(){ // Scroll Animation Properties
                        profile="inspectorStyleRolloutInnerProfile";
                        isContainer = "1";
                        position = "-1 191";
                        Extent = "185 94";
                        HorizSizing = "width";
                        
                        new GuiCheckboxCtrl() {
                           canSaveDynamicFields = "0";
                           internalName = "ScrollAnimation";
                           Enabled = "1";
                           isContainer = "0";
                           Profile = "ToolsGuiInspectorCheckBoxTitleProfile";
                           HorizSizing = "right";
                           VertSizing = "bottom";
                           position = "4 -1";
                           Extent = "112 18";
                           MinExtent = "8 2";
                           canSave = "1";
                           Visible = "1";
                           hovertime = "1000";
                           Margin = "0 0 0 0";
                           Padding = "0 0 0 0";
                           AnchorTop = "1";
                           AnchorBottom = "0";
                           AnchorLeft = "1";
                           AnchorRight = "0";
                           Command = "MaterialEditorGui.updateAnimationFlags();";
                           text = "Scroll Animation";
                           maxLength = "1024";
                        };
                        
                        
                        new GuiControl(){
                           class = "AggregateControl";
                           position = "0 29";
                           Extent = "135 20";
                           
                           new GuiTextCtrl(){ // u
                              HorizSizing = "right";
                              VertSizing = "bottom";
                              position = "11 1";
                              Extent = "12 16";
                              text = "U";
                           };
                        
                           new GuiSliderCtrl() { // u
                              Profile = "ToolsGuiSliderProfile";
                              internalName = "ScrollSliderU";
                              HorizSizing = "right";
                              VertSizing = "bottom";
                              position = "25 2";
                              Extent = "68 15";
                              Command = "MaterialEditorGui.updateScrollOffset(true, true);";
                              AltCommand = "$ThisControl.getParent().updateFromChild($ThisControl);MaterialEditorGui.updateScrollOffset(true, false);";
                              tooltipprofile = "ToolsGuiDefaultProfile";
                              ToolTip = "Change U Scroll Direction";
                              hovertime = "1000";
                              range = "-1 1";
                              ticks = "0";
                              value = "0";
                           };
                           new GuiTextEditCtrl(){ // u
                              internalName = "ScrollTextEditU";
                              HorizSizing = "right";
                              VertSizing = "bottom";
                              position = "98 0";
                              Extent = "34 18";
                              text = "0";
                              Command = "$ThisControl.getParent().updateFromChild($ThisControl);MaterialEditorGui.updateScrollOffset();";
                           };
                        };
                        
                        new GuiControl() {
                           class = "AggregateControl";
                           position = "0 50";
                           Extent = "135 20";
                           
                           new GuiTextCtrl(){ // v
                              HorizSizing = "right";
                              VertSizing = "bottom";
                              position = "11 1";
                              Extent = "12 16";
                              text = "V";
                           };
                        
                           new GuiSliderCtrl() { // v
                              Profile = "ToolsGuiSliderProfile";
                              internalName = "ScrollSliderV";
                              HorizSizing = "right";
                              VertSizing = "bottom";
                              position = "25 2";
                              Extent = "68 15";
                              Command = "MaterialEditorGui.updateScrollOffset(true, true);";
                              AltCommand = "$ThisControl.getParent().updateFromChild($ThisControl);MaterialEditorGui.updateScrollOffset(true, false);";
                              tooltipprofile = "ToolsGuiDefaultProfile";
                              ToolTip = "Change V Scroll Direction";
                              hovertime = "1000";
                              range = "-1 1";
                              ticks = "0";
                              value = "0";
                           };
                           new GuiTextEditCtrl(){ // v
                              internalName = "ScrollTextEditV";
                              HorizSizing = "right";
                              VertSizing = "bottom";
                              position = "98 0";
                              Extent = "34 18";
                              text = "0";
                              Command = "$ThisControl.getParent().updateFromChild($ThisControl);MaterialEditorGui.updateScrollOffset();";
                           };
                        };
                        new GuiTextCtrl(){ // Direction Offset
                           HorizSizing = "right";
                           VertSizing = "bottom";
                           position = "98 16";
                           Extent = "34 16";
                           text = "Offset";
                        };
                        new GuiBitmapCtrl(){
                           HorizSizing = "right";
                           VertSizing = "bottom";
                           position = "136 20";
                           Extent = "48 48";
                           isContainer = true;
                           bitmap="";
                           
                           new GuiBitmapCtrl(){
                              HorizSizing = "right";
                              VertSizing = "bottom";
                              position = "0 0";
                              Extent = "48 48";
                              bitmap="tools/materialEditor/gui/cubemapBtnBorder_n";
                           };
                           new GuiBitmapCtrl(){ //vertical bar
                              HorizSizing = "right";
                              VertSizing = "bottom";
                              position = "20 20";
                              Extent = "7 7";
                              MinExtent = "7 7";
                              bitmap="tools/gui/images/crosshair";
                           };
                           new GuiBitmapCtrl(){ //horizontal bar
                              internalName = "ScrollCrosshair";
                              HorizSizing = "right";
                              VertSizing = "bottom";
                              position = "20 20";
                              Extent = "7 7";
                              MinExtent = "0 0";
                              bitmap="tools/gui/images/crosshair_blue";
                           };
                        };
                        
                        new GuiControl() {
                           class = "AggregateControl";
                           position = "0 70";
                           Extent = "187 20";
                           
                           new GuiTextCtrl(){ // Speed
                              HorizSizing = "right";
                              VertSizing = "bottom";
                              position = "11 0";
                              Extent = "43 16";
                              text = "Speed";
                           };
                           
                           new GuiSliderCtrl() {
                              canSaveDynamicFields = "0";
                              internalName = "ScrollSpeedSlider";
                              Enabled = "1";
                              isContainer = "0";
                              Profile = "ToolsGuiSliderProfile";
                              HorizSizing = "right";
                              VertSizing = "bottom";
                              position = "49 3";
                              Extent = "95 16";
                              MinExtent = "8 2";
                              canSave = "1";
                              Visible = "1";
                              Command = "MaterialEditorGui.updateScrollSpeed(true, true);";
                              AltCommand = "$ThisControl.getParent().updateFromChild($ThisControl);MaterialEditorGui.updateScrollSpeed(true, false);";
                              tooltipprofile = "ToolsGuiDefaultProfile";
                              ToolTip = "Scrolling Speed";
                              hovertime = "1000";
                              range = "0 10";
                              ticks = "0";
                              value = "0";
                           };
                           
                           new GuiTextEditCtrl() {
                              canSaveDynamicFields = "0";
                              internalName = "ScrollSpeedTextEdit";
                              Enabled = "1";
                              isContainer = "0";
                              Profile = "ToolsGuiTextEditProfile";
                              HorizSizing = "right";
                              VertSizing = "bottom";
                              position = "150 1";
                              Extent = "34 18";
                              MinExtent = "8 2";
                              canSave = "1";
                              Visible = "1";
                              Command = "$ThisControl.getParent().updateFromChild($ThisControl);MaterialEditorGui.updateScrollSpeed();";
                              hovertime = "1000";
                              Margin = "0 0 0 0";
                              Padding = "0 0 0 0";
                              AnchorTop = "1";
                              AnchorBottom = "0";
                              AnchorLeft = "1";
                              AnchorRight = "0";
                              text = "0";
                              maxLength = "1024";
                              historySize = "0";
                              password = "0";
                              tabComplete = "0";
                              sinkAllKeyEvents = "0";
                              password = "0";
                              passwordMask = "*";
                           };
                        };
                     };
                     new GuiContainer(){ // Wave Animation Properties
                        profile="inspectorStyleRolloutInnerProfile";
                        isContainer = "1";
                        position = "-1 287";
                        Extent = "185 85";
                        HorizSizing = "width";
                        
                        new GuiCheckboxCtrl() {
                           Profile = "ToolsGuiInspectorCheckBoxTitleProfile";
                           internalName = "WaveAnimation";
                           HorizSizing = "right";
                           VertSizing = "bottom";
                           position = "4 -1";
                           Extent = "155 16";
                           MinExtent = "8 2";
                           text = " Wave Animation";
                           Command = "MaterialEditorGui.updateAnimationFlags();";
                           groupNum = "-1";
                        };
                        
                        new GuiCheckboxCtrl() {
                           Profile = "ToolsGuiCheckBoxProfile";
                           internalName = "ScaleAnimation";
                           HorizSizing = "right";
                           VertSizing = "bottom";
                           position = "139 24";
                           Extent = "45 16";
                           MinExtent = "8 2";
                           text = "Scale";
                           Command = "MaterialEditorGui.updateAnimationFlags();";
                           groupNum = "-1";
                        };
                        
                        new GuiTextCtrl() {
                           Profile = "ToolsGuiDefaultProfile";
                           HorizSizing = "right";
                           VertSizing = "bottom";
                           position = "10 22";
                           Extent = "59 16";
                           text = " Wave Type";
                        };
                        new GuiContainer(){ // Wave Radio Button container
                           profile = "ToolsGuiDefaultProfile";
                           internalName = "WaveButtonContainer";
                           position = "72 25";
                           Extent = "49 13";
                           isContainer = "1";
                           
                           new GuiBitmapButtonCtrl(){
                              profile = "ToolsGuiDefaultProfile";
                              buttonType = "RadioButton";
                              position = "1 0";
                              Extent = "13 13";
                              bitmap = "tools/materialEditor/gui/wav-sine";
                              command = "MaterialEditorGui.updateWaveType();";
                              tooltip="Sine Wave";
                              hovertime = "1000";
                              groupNum = "0";
                              waveType = "Sin";
                           };
                           new GuiBitmapButtonCtrl(){
                              profile = "ToolsGuiDefaultProfile";
                              buttonType = "RadioButton";
                              position = "17 0";
                              Extent = "13 13";
                              bitmap = "tools/materialEditor/gui/wav-triangle";
                              command = "MaterialEditorGui.updateWaveType();";
                              tooltip="Triangle Wave";
                              hovertime = "1000";
                              groupNum = "0";
                              waveType = "Triangle";
                           };
                           new GuiBitmapButtonCtrl(){
                              profile = "ToolsGuiDefaultProfile";
                              buttonType = "RadioButton";
                              position = "33 0";
                              Extent = "13 13";
                              bitmap = "tools/materialEditor/gui/wav-square";
                              command = "MaterialEditorGui.updateWaveType();";
                              tooltip="Square Wave";
                              hovertime = "1000";
                              groupNum = "0";
                              waveType = "Square";
                           };
                        };
                        
                        new GuiControl() {
                           class = "AggregateControl";
                           position = "0 61";
                           Extent = "187 20";
                           
                           new GuiTextCtrl() {
                              Profile = "ToolsGuiDefaultProfile";
                              HorizSizing = "right";
                              VertSizing = "bottom";
                              position = "16 1";
                              Extent = "64 16";
                              text = "Frequency";
                           };
                           
                           new GuiTextEditCtrl() { // frequence
                              canSaveDynamicFields = "0";
                              internalName = "WaveTextEditFreq";
                              Enabled = "1";
                              isContainer = "0";
                              Profile = "ToolsGuiTextEditProfile";
                              HorizSizing = "right";
                              VertSizing = "bottom";
                              position = "150 1";
                              Extent = "34 18";
                              MinExtent = "8 2";
                              canSave = "1";
                              Visible = "1";
                              Command = "$ThisControl.getParent().updateFromChild($ThisControl); MaterialEditorGui.updateWaveFreq();";
                              hovertime = "1000";
                              Margin = "0 0 0 0";
                              Padding = "0 0 0 0";
                              AnchorTop = "1";
                              AnchorBottom = "0";
                              AnchorLeft = "1";
                              AnchorRight = "0";
                              text = "0";
                              maxLength = "1024";
                              historySize = "0";
                              password = "0";
                              tabComplete = "0";
                              sinkAllKeyEvents = "0";
                              password = "0";
                              passwordMask = "*";
                           };
                           new GuiSliderCtrl() { // freqency
                              canSaveDynamicFields = "0";
                              internalName = "WaveSliderFreq";
                              Enabled = "1";
                              isContainer = "0";
                              Profile = "ToolsGuiSliderProfile";
                              HorizSizing = "right";
                              VertSizing = "bottom";
                              position = "72 3";
                              Extent = "74 16";
                              MinExtent = "8 2";
                              canSave = "1";
                              Visible = "1";
                              Command = "MaterialEditorGui.updateWaveFreq(true, true);";
                              AltCommand = "$ThisControl.getParent().updateFromChild($ThisControl); MaterialEditorGui.updateWaveFreq(true, false);";
                              tooltipprofile = "ToolsGuiDefaultProfile";
                              ToolTip = "Changes Wave Frequency";
                              hovertime = "1000";
                              range = "0 10";
                              ticks = "0";
                              value = "0";
                           };
                        
                        };
                        
                        new GuiControl() {
                           class = "AggregateControl";
                           position = "0 40";
                           Extent = "187 20";
                           
                           new GuiTextCtrl() {
                              Profile = "ToolsGuiDefaultProfile";
                              HorizSizing = "right";
                              VertSizing = "bottom";
                              position = "21 1";
                              Extent = "64 16";
                              text = "Amplitude";
                           };
                              
                           new GuiTextEditCtrl() { // amplitude
                              Profile = "ToolsGuiTextEditProfile";
                              internalName = "WaveTextEditAmp";
                              HorizSizing = "right";
                              VertSizing = "bottom";
                              position = "150 1";
                              Extent = "34 18";
                              Command = "$ThisControl.getParent().updateFromChild($ThisControl); MaterialEditorGui.updateWaveAmp();";
                              hovertime = "1000";
                              text = "0";
                           };
                           new GuiSliderCtrl() { // amplitude
                              canSaveDynamicFields = "0";
                              internalName = "WaveSliderAmp";
                              Enabled = "1";
                              isContainer = "0";
                              Profile = "ToolsGuiSliderProfile";
                              HorizSizing = "right";
                              VertSizing = "bottom";
                              position = "72 3";
                              Extent = "74 16";
                              MinExtent = "8 2";
                              canSave = "1";
                              Visible = "1";
                              Command = "MaterialEditorGui.updateWaveAmp(true, true);";
                              AltCommand = "$ThisControl.getParent().updateFromChild($ThisControl); MaterialEditorGui.updateWaveAmp(true, false);";
                              tooltipprofile = "ToolsGuiDefaultProfile";
                              ToolTip = "Changes Wave Amplitude";
                              hovertime = "1000";
                              range = "0 1";
                              ticks = "0";
                              value = "0";
                           };
                        
                        };
                     };
                     new GuiContainer(){ // image Sequence Animation Properties
                        profile="inspectorStyleRolloutInnerProfile";
                        isContainer = "1";
                        position = "-1 373";
                        Extent = "185 66";
                        HorizSizing = "width";
                        
                        new GuiCheckboxCtrl() {
                           Profile = "ToolsGuiInspectorCheckBoxTitleProfile";
                           internalName = "SequenceAnimation";
                           HorizSizing = "right";
                           VertSizing = "bottom";
                           position = "4 0";
                           Extent = "130 16";
                           MinExtent = "8 2";
                           text = "Image Sequence";
                           Command = "MaterialEditorGui.updateAnimationFlags();";
                           groupNum = "-1";
                        };
                        
                        
                        new GuiControl() {
                           class = "AggregateControl";
                           position = "0 21";
                           Extent = "187 20";
                           
                           new GuiTextCtrl() {
                              Profile = "ToolsGuiDefaultProfile";
                              HorizSizing = "right";
                              VertSizing = "bottom";
                              position = "5 1";
                              Extent = "64 16";
                              text = "Frames / Sec";
                           };
                        
                           new GuiTextEditCtrl() {
                              canSaveDynamicFields = "0";
                              internalName = "SequenceTextEditFPS";
                              Enabled = "1";
                              isContainer = "0";
                              Profile = "ToolsGuiTextEditProfile";
                              HorizSizing = "right";
                              VertSizing = "bottom";
                              position = "150 1";
                              Extent = "34 18";
                              MinExtent = "8 2";
                              canSave = "1";
                              Visible = "1";
                              Command = "$ThisControl.getParent().updateFromChild($ThisControl); MaterialEditorGui.updateSequenceFPS();";
                              hovertime = "1000";
                              Margin = "0 0 0 0";
                              Padding = "0 0 0 0";
                              AnchorTop = "1";
                              AnchorBottom = "0";
                              AnchorLeft = "1";
                              AnchorRight = "0";
                              text = "0";
                              maxLength = "1024";
                           };
                           new GuiSliderCtrl() {
                              canSaveDynamicFields = "0";
                              internalName = "SequenceSliderFPS";
                              Enabled = "1";
                              isContainer = "0";
                              Profile = "ToolsGuiSliderProfile";
                              HorizSizing = "right";
                              VertSizing = "bottom";
                              position = "72 3";
                              Extent = "74 16";
                              MinExtent = "8 2";
                              canSave = "1";
                              Visible = "1";
                              Command = "MaterialEditorGui.updateSequenceFPS(true, true);";
                              AltCommand = "$ThisControl.getParent().updateFromChild($ThisControl); MaterialEditorGui.updateSequenceFPS(true, false);";
                              tooltipprofile = "ToolsGuiDefaultProfile";
                              ToolTip = "How many frames to display per second.";
                              hovertime = "1000";
                              range = "0 30";
                              ticks = "0";
                              value = "0";
                           };
                        };
                        
                        new GuiControl() {
                           class = "AggregateControl";
                           position = "0 42";
                           Extent = "187 20";
                           
                           new GuiTextCtrl() {
                              Profile = "ToolsGuiDefaultProfile";
                              HorizSizing = "right";
                              VertSizing = "bottom";
                              position = "33 1";
                              Extent = "43 16";
                              text = "Frames";
                           };
                           
                           new GuiTextEditCtrl() { // size
                              Profile = "ToolsGuiTextEditProfile";
                              internalName = "SequenceTextEditSSS";
                              HorizSizing = "right";
                              VertSizing = "bottom";
                              position = "150 1";
                              Extent = "34 18";
                              Command = "$ThisControl.getParent().updateFromChild($ThisControl); MaterialEditorGui.updateSequenceSSS();";
                              hovertime = "1000";
                              text = "0";
                           };
                           new GuiSliderCtrl() { //size
                              canSaveDynamicFields = "0";
                              internalName = "SequenceSliderSSS";
                              Enabled = "1";
                              isContainer = "0";
                              Profile = "ToolsGuiSliderProfile";
                              HorizSizing = "right";
                              VertSizing = "bottom";
                              position = "72 3";
                              Extent = "74 16";
                              MinExtent = "8 2";
                              canSave = "1";
                              Visible = "1";
                              Command = "MaterialEditorGui.updateSequenceSSS(true, true);";
                              AltCommand = "$ThisControl.getParent().updateFromChild($ThisControl); MaterialEditorGui.updateSequenceSSS(true, false);";
                              tooltipprofile = "ToolsGuiDefaultProfile";
                              ToolTip = "How many frames in the sequence.";
                              hovertime = "1000";
                              range = "0 100";
                              ticks = "0";
                              value = "0";
                           };
                        };
                     };
                  };
               };
               new GuiRolloutCtrl(materialAdvancedPropertiesRollout) { // Advanced Properties Group
                  class = "BehaviorQuickEditRollout";
                  superclass = LBQuickEditRollout;
                  Profile = "GuiRolloutProfile";
                  HorizSizing = "width";
                  VertSizing = "bottom";
                  Position = "0 0";
                  Extent = "202 0";
                  Caption = "Advanced (all layers)";
                  Margin = "4 4 4 0";
                  DragSizable = false;
                  container = true;
                  parentRollout = %this.rollout;
                  object = %behavior;
                           
                  new GuiStackControl() {
                     StackingType = "Vertical";
                     HorizStacking = "Left to Right";
                     VertStacking = "Top to Bottom";
                     Padding = "0";
                     canSaveDynamicFields = "0";
                     Enabled = "1";
                     isContainer = "1";
                     Profile = "ToolsGuiDefaultProfile";
                     HorizSizing = "width";
                     VertSizing = "bottom";
                     Position = "1 3";
                     Extent = "202 16";
               
                     new GuiContainer(){ // Transparentcy Properties
                        Profile = "ToolsGuiDefaultProfile";
                        isContainer = "1";
                        HorizSizing = "width";
                        VertSizing = "bottom";
                        Position = "0 0";
                        Extent = "210 71";
                        
                        new GuiPopUpMenuCtrl() {
                           internalName = "blendingTypePopUp";
                           canSaveDynamicFields = "0";
                           Enabled = "1";
                           isContainer = "0";
                           Profile = "ToolsGuiPopUpMenuProfile";
                           HorizSizing = "width";
                           VertSizing = "bottom";
                           position = "3 2";
                           Extent = "83 18";
                           MinExtent = "8 2";
                           canSave = "1";
                           Visible = "1";
                           Command = "MaterialEditorGui.updateActiveMaterial(\"translucentBlendOp\",$ThisControl.getValue());";
                           ToolTip = "Determines the type of blending to be applied on the transparent object.";
                           hovertime = "1000";
                           Margin = "0 0 0 0";
                           Padding = "0 0 0 0";
                           AnchorTop = "1";
                           AnchorBottom = "0";
                           AnchorLeft = "1";
                           AnchorRight = "0";
                           text = "LerpAlpha";
                           maxLength = "1024";
                           maxPopupHeight = "200";
                           sbUsesNAColor = "0";
                           reverseTextList = "0";
                           bitmapBounds = "16 16";
                        };
                        new GuiCheckBoxCtrl() {
                           canSaveDynamicFields = "0";
                           internalName = "alphaTestCheckBox";
                           Enabled = "1";
                           isContainer = "0";
                           Profile = "ToolsGuiCheckBoxProfile";
                           HorizSizing = "right";
                           VertSizing = "bottom";
                           position = "3 39";
                           Extent = "106 16";
                           MinExtent = "8 2";
                           canSave = "1";
                           Visible = "1";
                           Command = "MaterialEditorGui.updateActiveMaterial(\"alphaTest\",$ThisControl.getValue());";
                           tooltipprofile = "ToolsGuiDefaultProfile";
                           ToolTip = "When enabled, caused pixels under a specific alpha threshold to get discarded rather than be computed. Only valid for transparent objects.";
                           hovertime = "1000";
                           text = "Alpha Threshold";
                           groupNum = "-1";
                           buttonType = "ToggleButton";
                           useMouseEvents = "0";
                           useInactiveState = "0";
                        };
                        
                        new GuiControl() {
                           class = "AggregateControl";
                           HorizSizing = "width";
                           position = "100 39";
                           Extent = "187 20";
                           
                           new GuiSliderCtrl() {
                              canSaveDynamicFields = "0";
                              internalName = "alphaRefSlider";
                              Enabled = "1";
                              isContainer = "0";
                              Profile = "ToolsGuiSliderProfile";
                              HorizSizing = "width";
                              VertSizing = "bottom";
                              position = "0 3";
                              Extent = "45 14";
                              MinExtent = "8 2";
                              canSave = "1";
                              Visible = "1";
                              Command = "MaterialEditorGui.updateActiveMaterial(\"alphaRef\",$ThisControl.getValue(), true, true );";
                              AltCommand = "$ThisControl.getParent().updateFromChild($ThisControl); MaterialEditorGui.updateActiveMaterial(\"alphaRef\",$ThisControl.getValue(), true, false );";
                              tooltipprofile = "ToolsGuiDefaultProfile";
                              ToolTip = "Sets the minimum transparency value that a pixel must have to be calculated. Anything below this value will simply not be rendered at all.";
                              hovertime = "1000";
                              range = "0 255";
                              ticks = "0";
                              value = "0";
                           };
                           
                           new GuiTextEditCtrl() {
                              canSaveDynamicFields = "0";
                              internalName = "alphaRefTextEdit";
                              Enabled = "1";
                              isContainer = "0";
                              Profile = "ToolsGuiTextEditProfile";
                              HorizSizing = "left";
                              VertSizing = "bottom";
                              position = "49 0";
                              Extent = "27 18";
                              MinExtent = "8 2";
                              canSave = "1";
                              Visible = "1";
                              Command = "$ThisControl.getParent().updateFromChild($ThisControl); MaterialEditorGui.updateActiveMaterial(\"alphaRef\",$ThisControl.getValue());";
                              hovertime = "1000";
                              Margin = "0 0 0 0";
                              Padding = "0 0 0 0";
                              AnchorTop = "1";
                              AnchorBottom = "0";
                              AnchorLeft = "1";
                              AnchorRight = "0";
                              text = "100";
                              maxLength = "1024";
                           };
                        };
                        
                        new GuiCheckBoxCtrl() {
                           canSaveDynamicFields = "0";
                           internalName = "transZWriteCheckBox";
                           Enabled = "1";
                           isContainer = "0";
                           Profile = "ToolsGuiCheckBoxProfile";
                           HorizSizing = "right";
                           VertSizing = "bottom";
                           position = "3 23";
                           Extent = "112 16";
                           MinExtent = "8 2";
                           canSave = "1";
                           Visible = "1";
                           Command = "MaterialEditorGui.updateActiveMaterial(\"translucentZWrite\",$ThisControl.getValue());";
                           tooltipprofile = "ToolsGuiDefaultProfile";
                           ToolTip = "Can be used to help force a proper Z-Ordering when Z-Ordering issues occur. Only valid for materials with Transparency.";
                           hovertime = "1000";
                           text = "Transparent Z-Write";
                           groupNum = "-1";
                           buttonType = "ToggleButton";
                           useMouseEvents = "0";
                           useInactiveState = "0";
                        };
                        new GuiCheckBoxCtrl() {
                           canSaveDynamicFields = "0";
                           internalName = "translucentCheckbox";
                           Enabled = "1";
                           isContainer = "0";
                           Profile = "ToolsGuiCheckBoxProfile";
                           HorizSizing = "left";
                           VertSizing = "bottom";
                           position = "89 3";
                           Extent = "107 16";
                           MinExtent = "8 2";
                           canSave = "1";
                           Visible = "1";
                           Command = "MaterialEditorGui.updateActiveMaterial(\"translucent\",$ThisControl.getValue());";
                           tooltipprofile = "ToolsGuiDefaultProfile";
                           ToolTip = "Sets material to use transparent blending modes.";
                           hovertime = "1000";
                           text = "Transparency";
                           groupNum = "-1";
                           buttonType = "ToggleButton";
                           useMouseEvents = "0";
                           useInactiveState = "0";
                        };
                        new GuiCheckBoxCtrl() {
                           canSaveDynamicFields = "0";
                           internalName = "castShadows";
                           Enabled = "1";
                           isContainer = "0";
                           Profile = "ToolsGuiCheckBoxProfile";
                           HorizSizing = "right";
                           VertSizing = "bottom";
                           position = "3 55";
                           Extent = "112 16";
                           MinExtent = "8 2";
                           canSave = "1";
                           Visible = "1";
                           Command = "MaterialEditorGui.updateActiveMaterial(\"castShadows\", $ThisControl.getValue());";
                           tooltipprofile = "ToolsGuiDefaultProfile";
                           ToolTip = "Alows object to cast shadows.";
                           hovertime = "1000";
                           text = "Cast Shadows";
                           groupNum = "-1";
                           buttonType = "ToggleButton";
                           useMouseEvents = "0";
                           useInactiveState = "0";
                        };
                        new GuiCheckBoxCtrl() {
                           canSaveDynamicFields = "0";
                           internalName = "doubleSidedCheckBox";
                           Enabled = "1";
                           isContainer = "0";
                           Profile = "ToolsGuiCheckBoxProfile";
                           HorizSizing = "right";
                           VertSizing = "bottom";
                           position = "100 56";
                           Extent = "85 16";
                           MinExtent = "8 2";
                           canSave = "1";
                           Visible = "1";
                           Command = "MaterialEditorGui.updateActiveMaterial(\"doubleSided\",$ThisControl.getValue());";
                           tooltipprofile = "ToolsGuiDefaultProfile";
                           ToolTip = "Determines if this material will be rendered from both sides of the polygon, or just the \'front facing\' side. ";
                           hovertime = "1000";
                           text = "Double Sided";
                           groupNum = "-1";
                           buttonType = "ToggleButton";
                           useMouseEvents = "0";
                           useInactiveState = "0";
                        };
                     };
                     new GuiContainer(){ // Reflection Properties
                        Profile = "ToolsGuiDefaultProfile";
                        isContainer = "1";
                        HorizSizing = "width";
                        VertSizing = "bottom";
                        Position = "0 95";
                        Extent = "212 25";
                        
                        new GuiBitmapCtrl(){
                           position="2 2";
                           extent ="192 2";
                           HorizSizing = "width";
                           bitmap ="tools/gui/images/separator-v"; 
                        };
                        // Reflection Properties Text
                        new GuiTextCtrl(matEd_reflectionPropertiesText) {
                           canSaveDynamicFields = "0";
                           Enabled = "1";
                           isContainer = "0";
                           Profile = "ToolsGuiDefaultProfile";
                           HorizSizing = "left";
                           VertSizing = "bottom";
                           position = "91 6";
                           Extent = "80 18";
                           MinExtent = "8 2";
                           canSave = "1";
                           Visible = "1";
                           hovertime = "1000";
                           Margin = "0 0 0 0";
                           Padding = "0 0 0 0";
                           AnchorTop = "1";
                           AnchorBottom = "0";
                           AnchorLeft = "1";
                           AnchorRight = "0";
                           text = "Reflection";
                           maxLength = "1024";
                        };
                        
                        new GuiPopUpMenuCtrl() {
                           canSaveDynamicFields = "0";
                           internalName = "reflectionTypePopUp";
                           Enabled = "1";
                           isContainer = "0";
                           Profile = "ToolsGuiPopUpMenuProfile";
                           HorizSizing = "width";
                           VertSizing = "bottom";
                           position = "3 6";
                           Extent = "84 18";
                           MinExtent = "8 2";
                           canSave = "1";
                           Visible = "1";
                           Command = "MaterialEditorGui.updateReflectionType($ThisControl.getText());";
                           ToolTip = "Determines the type of blending to be applied on the transparent object.";
                           hovertime = "1000";
                           Margin = "0 0 0 0";
                           Padding = "0 0 0 0";
                           AnchorTop = "1";
                           AnchorBottom = "0";
                           AnchorLeft = "1";
                           AnchorRight = "0";
                           text = "None";
                           maxLength = "1024";
                           maxPopupHeight = "200";
                           sbUsesNAColor = "0";
                           reverseTextList = "0";
                           bitmapBounds = "16 16";
                        };
                        new GuiButtonCtrl(matEd_cubemapEditBtn){
                           internalName = "matEd_cubemapEditBtn";
                           profile ="ToolsGuiButtonProfile";
                           HorizSizing = "left";
                           VertSizing = "bottom";
                           position = "143 6 28";
                           Extent = "33 18";
                           Command = "MaterialEditorGui.showCubemapEditor();";
                           text = "Edit";
                        };
                     };
                     new GuiContainer(){ // Behavior Properties
                        Profile = "ToolsGuiDefaultProfile";
                        isContainer = "1";
                        HorizSizing = "width";
                        VertSizing = "bottom";
                        Position = "0 122";
                        Extent = "212 80";

                        new GuiBitmapCtrl(){
                           position="2 2";
                           extent ="192 2";
                           HorizSizing = "width";
                           bitmap ="tools/gui/images/separator-v"; 
                        };
                        new GuiTextCtrl() {
                           text = "Effect Colors[0:1]";
                           position = "1 6";
                           extent = "86 15";
                           profile = "ToolsGuiDefaultProfile";
                        };
                        new GuiSwatchButtonCtrl() {
                           color = "1 1 1 1";
                           groupNum = "-1";
                           buttonType = "PushButton";
                           useMouseEvents = "0";
                           position = "89 6";
                           extent = "16 16";
                           minExtent = "8 2";
                           horizSizing = "right";
                           vertSizing = "bottom";
                           profile = "GuiInspectorSwatchButtonProfile";
                           visible = "1";
                           active = "1";
                           command = "getColorF(materialEd_PreviewMaterial.effectColor[0], \"MaterialEditorGui.updateEffectColor0\");";
                           tooltipProfile = "ToolsGuiToolTipProfile";
                           hovertime = "1000";
                           isContainer = "0";
                           internalName = "effectColor0Swatch";
                        };
                        new GuiSwatchButtonCtrl() {
                           color = "1 1 1 1";
                           groupNum = "-1";
                           buttonType = "PushButton";
                           useMouseEvents = "0";
                           position = "109 6";
                           extent = "16 16";
                           minExtent = "8 2";
                           horizSizing = "right";
                           vertSizing = "bottom";
                           profile = "GuiInspectorSwatchButtonProfile";
                           visible = "1";
                           active = "1";
                           command = "getColorF(materialEd_PreviewMaterial.effectColor[1], \"MaterialEditorGui.updateEffectColor1\");";
                           tooltipProfile = "ToolsGuiToolTipProfile";
                           hovertime = "1000";
                           isContainer = "0";
                           internalName = "effectColor1Swatch";
                        };
                        new GuiCheckBoxCtrl() {
                           text = "Show Footprints";
                           groupNum = "-1";
                           buttonType = "ToggleButton";
                           useMouseEvents = "0";
                           position = "1 24";
                           extent = "93 16";
                           minExtent = "8 2";
                           horizSizing = "right";
                           vertSizing = "bottom";
                           profile = "ToolsGuiCheckBoxProfile";
                           visible = "1";
                           active = "1";
                           Command = "MaterialEditorGui.updateActiveMaterial(\"showFootprints\", $ThisControl.getValue());";
                           tooltipProfile = "ToolsGuiDefaultProfile";
                           tooltip = "Enables Player footprints on surfaces that use this Material.";
                           hovertime = "1000";
                           isContainer = "0";
                           internalName = "showFootprintsCheckbox";
                        };
                        new GuiCheckBoxCtrl() {
                           text = "Show Dust";
                           groupNum = "-1";
                           buttonType = "ToggleButton";
                           useMouseEvents = "0";
                           position = "110 24";
                           extent = "68 16";
                           minExtent = "8 2";
                           horizSizing = "right";
                           vertSizing = "bottom";
                           profile = "ToolsGuiCheckBoxProfile";
                           visible = "1";
                           active = "1";
                           Command = "MaterialEditorGui.updateActiveMaterial(\"showDust\", $ThisControl.getValue());";
                           tooltipProfile = "ToolsGuiDefaultProfile";
                           tooltip = "Enables dust particles on surfaces that use this Material.";
                           hovertime = "1000";
                           isContainer = "0";
                           internalName = "showDustCheckbox";
                        };
                        new GuiTextCtrl() {
                           text = "Footstep sound";
                           position = "1 43";
                           extent = "77 15";
                           profile = "ToolsGuiDefaultProfile";
                        };
                        new GuiPopUpMenuCtrl() {
                           maxPopupHeight = "200";
                           sbUsesNAColor = "0";
                           reverseTextList = "0";
                           bitmapBounds = "16 16";
                           text = "None";
                           maxLength = "1024";
                           margin = "0 0 0 0";
                           padding = "0 0 0 0";
                           anchorTop = "1";
                           anchorBottom = "0";
                           anchorLeft = "1";
                           anchorRight = "0";
                           position = "80 42";
                           extent = "105 18";
                           minExtent = "8 2";
                           horizSizing = "width";
                           vertSizing = "bottom";
                           profile = "ToolsGuiPopUpMenuProfile";
                           visible = "1";
                           active = "1";
                           command = "MaterialEditorGui.updateBehaviorSound(\"Footstep\", $ThisControl.getText());";
                           tooltipProfile = "ToolsGuiToolTipProfile";
                           tooltip = "Determines the footstep sound to use when the Player walks on this Material.";
                           hovertime = "1000";
                           isContainer = "0";
                           internalName = "footstepSoundPopUp";
                        };
                        new GuiTextCtrl() {
                           text = "Impact sound";
                           position = "1 63";
                           extent = "64 15";
                           profile = "ToolsGuiDefaultProfile";
                        };
                        new GuiPopUpMenuCtrl() {
                           maxPopupHeight = "200";
                           sbUsesNAColor = "0";
                           reverseTextList = "0";
                           bitmapBounds = "16 16";
                           text = "None";
                           maxLength = "1024";
                           margin = "0 0 0 0";
                           padding = "0 0 0 0";
                           anchorTop = "1";
                           anchorBottom = "0";
                           anchorLeft = "1";
                           anchorRight = "0";
                           position = "80 62";
                           extent = "105 18";
                           minExtent = "8 2";
                           horizSizing = "width";
                           vertSizing = "bottom";
                           profile = "ToolsGuiPopUpMenuProfile";
                           visible = "1";
                           active = "1";
                           command = "MaterialEditorGui.updateBehaviorSound(\"Impact\", $ThisControl.getText());";
                           tooltipProfile = "ToolsGuiToolTipProfile";
                           tooltip = "Determines the impact sound to use when an object collides with this Material.";
                           hovertime = "1000";
                           isContainer = "0";
                           internalName = "impactSoundPopUp";
                        };
                     };
                  };
               };
            };
            
         };
         new GuiBitmapButtonCtrl(MatEd_phoBreadcrumb) { //Go back to previous editor
            canSaveDynamicFields = "0";
            Enabled = "1";
            isContainer = "0";
            HorizSizing = "right";
            VertSizing = "bottom";
            position = "-1 0";
            Extent = "20 19";
            MinExtent = "8 2";
            canSave = "1";
            Visible = "0";
            //Command = "materialSelector.showDialog(\"MaterialEditorGui.switchMaterial\");"; 
            hovertime = "1000";
            bitmap = "tools/gui/images/folderUp";
            tooltip = "Go back to previous editor";
            groupNum = "-1";
            buttonType = "PushButton";
            useMouseEvents = "0";
         };
         new GuiBitmapButtonCtrl(MatEd_editMaterial) { //Select and Edit an Existing Material
            canSaveDynamicFields = "0";
            Enabled = "1";
            isContainer = "0";
            HorizSizing = "left";
            VertSizing = "bottom";
            position = "86 1";
            Extent = "16 16";
            MinExtent = "8 2";
            canSave = "1";
            Visible = "1";
            Command = "materialSelector.showDialog(\"MaterialEditorGui.switchMaterial\");"; 
            hovertime = "1000";
            bitmap = "tools/gui/images/open-file";
            tooltip = "Open Existing Material";
            groupNum = "-1";
            buttonType = "PushButton";
            useMouseEvents = "0";
         };
         // New Button
         new GuiBitmapButtonCtrl() {
            canSaveDynamicFields = "0";
            Enabled = "1";
            isContainer = "0";
            Profile = "ToolsGuiDefaultProfile";
            HorizSizing = "left";
            VertSizing = "bottom";
            position = "106 1";
            Extent = "16 16";
            MinExtent = "8 2";
            canSave = "1";
            Visible = "1";
            Command = "MaterialEditorGui.createNewMaterial();";
            hovertime = "1000";
            groupNum = "-1";
            text ="";
            tooltip = "Create New Material";
            buttonType = "PushButton";
            useMouseEvents = "0";
            bitmap = "tools/gui/images/new";
         };
         // Save Button
         new GuiBitmapButtonCtrl() {
            canSaveDynamicFields = "0";
            Enabled = "1";
            isContainer = "0";
            Profile = "ToolsGuiDefaultProfile";
            HorizSizing = "left";
            VertSizing = "bottom";
            position = "123 1";
            Extent = "16 16";
            MinExtent = "8 2";
            canSave = "1";
            Visible = "1";
            Command = "MaterialEditorGui.save();";
            hovertime = "1000";
            groupNum = "-1";
            text ="";
            tooltip = "Save Material (ALT S)";
            buttonType = "PushButton";
            useMouseEvents = "0";
            bitmap = "tools/gui/images/save-icon";
         };
         new GuiBitmapCtrl(){
            position = "147 1";
            Extent = "2 16";
            minExtent = "2 16";
            HorizSizing = "left";
            VertSizing = "bottom";
            bitmap = "tools/gui/images/separator-h";
         };
         // Revert Material
         new GuiBitmapButtonCtrl() {
            canSaveDynamicFields = "0";
            Enabled = "1";
            isContainer = "0";
            Profile = "ToolsGuiButtonProfile";
            HorizSizing = "left";
            VertSizing = "bottom";
            position = "151 1";
            Extent = "17 17";
            MinExtent = "8 2";
            canSave = "1";
            Visible = "1";
            Command = "MaterialEditorGui.refreshMaterial();"; 
            hovertime = "1000";
            tooltip = "Revert Material to Saved";
            text = "";
            bitmap = "tools/gui/images/reset-icon";
            groupNum = "-1";
            buttonType = "PushButton";
            useMouseEvents = "0";
         };                  
         // Clear Material
         new GuiBitmapButtonCtrl() {
            canSaveDynamicFields = "0";
            Enabled = "1";
            isContainer = "0";
            Profile = "ToolsGuiButtonProfile";
            HorizSizing = "left";
            VertSizing = "bottom";
            position = "168 1";
            Extent = "17 17";
            MinExtent = "8 2";
            canSave = "1";
            Visible = "1";
            Command = "MaterialEditorGui.clearMaterial();"; 
            hovertime = "1000";
            tooltip = "Clear All Material Properties";
            text = "";
            bitmap = "tools/gui/images/clear-icon";
            groupNum = "-1";
            buttonType = "PushButton";
            useMouseEvents = "0";
         };     
         // Delete Material
         new GuiBitmapButtonCtrl() {
            canSaveDynamicFields = "0";
            Enabled = "1";
            isContainer = "0";
            Profile = "ToolsGuiButtonProfile";
            HorizSizing = "left";
            VertSizing = "bottom";
            position = "185 1";
            Extent = "17 17";
            MinExtent = "8 2";
            canSave = "1";
            Visible = "1";
            Command = ""; 
            hovertime = "1000";
            tooltip = "Delete Material from File";
            text = "";
            bitmap = "tools/gui/images/delete";
            groupNum = "-1";
            buttonType = "PushButton";
            useMouseEvents = "0";
            Command = "MaterialEditorGui.deleteMaterial();";
         }; 
      };
   };
};

// Here are all of the other gui elements that were included in the original gui============================================
// EDIT: Instead of showing the faded bitmap, were going to just go ahead and push the controls; that way they are sitting
// on top of the editor gui, while being nonmodal
new GuiControl(matEdNonModalGroup, EditorGuiGroup) {
   canSaveDynamicFields = "0";
   Profile = "ToolsGuiOverlayProfile";
   Enabled = "1";
   isContainer = "1";
   HorizSizing = "right";
   VertSizing = "bottom";
   Position = "0 0";
   Extent = "1024 768";
   MinExtent = "8 2";
   canSave = "1";
   Visible = "1";
   hovertime = "1000";
   
   new GuiWindowCtrl(matEdSaveDialog) {
      canSaveDynamicFields = "0";
      Enabled = "1";
      isContainer = "1";
      Profile = "ToolsGuiWindowProfile";
      HorizSizing = "center";
      VertSizing = "center";
      position = "197 221";
      Extent = "336 104";
      MinExtent = "8 2";
      canSave = "1";
      Visible = "0";
      hovertime = "1000";
      Margin = "0 0 0 0";
      Padding = "0 0 0 0";
      AnchorTop = "1";
      AnchorBottom = "0";
      AnchorLeft = "1";
      AnchorRight = "0";
      resizeWidth = "0";
      resizeHeight = "0";
      canMove = "0";
      canClose = "0";
      canMinimize = "0";
      canMaximize = "0";
      minSize = "50 50";
      EdgeSnap = "1";
      text = "Material Not Saved!";

      new GuiButtonCtrl(matEd_notSavedWindow_Save) {
         canSaveDynamicFields = "0";
         Enabled = "1";
         isContainer = "0";
         Profile = "ToolsGuiButtonProfile";
         HorizSizing = "right";
         VertSizing = "bottom";
         position = "8 69";
         Extent = "121 24";
         MinExtent = "8 2";
         canSave = "1";
         Visible = "1";
         Command = "matEdSaveDialog.dialogSave();";
         hovertime = "1000";
         text = "Save";
         groupNum = "-1";
         buttonType = "PushButton";
         useMouseEvents = "0";
      };
      new GuiTextCtrl(matEd_materialNotSavedText) {
         canSaveDynamicFields = "0";
         Enabled = "1";
         isContainer = "0";
         Profile = "ToolsGuiTextCenterProfile";
         HorizSizing = "right";
         VertSizing = "bottom";
         position = "7 35";
         Extent = "318 18";
         MinExtent = "8 2";
         canSave = "1";
         Visible = "1";
         hovertime = "1000";
         Margin = "0 0 0 0";
         Padding = "0 0 0 0";
         AnchorTop = "1";
         AnchorBottom = "0";
         AnchorLeft = "1";
         AnchorRight = "0";
         text = "This material has unsaved changes. Do you wish to save?";
         maxLength = "1024";
      };
      new GuiButtonCtrl(matEd_notSavedWindow_DontSave) {
         canSaveDynamicFields = "0";
         Enabled = "1";
         isContainer = "0";
         Profile = "ToolsGuiButtonProfile";
         HorizSizing = "right";
         VertSizing = "bottom";
         position = "157 69";
         Extent = "80 24";
         MinExtent = "8 2";
         canSave = "1";
         Visible = "1";
         Command = "matEdSaveDialog.dialogDontSave();";
         hovertime = "1000";
         text = "Don\'t Save";
         groupNum = "-1";
         buttonType = "PushButton";
         useMouseEvents = "0";
      };
      new GuiButtonCtrl(matEd_notSavedWindow_Cancel) {
         canSaveDynamicFields = "0";
         Enabled = "1";
         isContainer = "0";
         Profile = "ToolsGuiButtonProfile";
         HorizSizing = "right";
         VertSizing = "bottom";
         position = "245 69";
         Extent = "80 24";
         MinExtent = "8 2";
         canSave = "1";
         Visible = "1";
         Command = "matEdSaveDialog.dialogCancel();";
         hovertime = "1000";
         text = "Cancel";
         groupNum = "-1";
         buttonType = "PushButton";
         useMouseEvents = "0";
      };
   };
   new GuiWindowCtrl(matEd_changeCategoryDialog) {
      canSaveDynamicFields = "0";
      Enabled = "1";
      isContainer = "1";
      Profile = "ToolsGuiWindowProfile";
      HorizSizing = "right";
      VertSizing = "bottom";
      position = "288 144";
      Extent = "248 133";
      MinExtent = "8 2";
      canSave = "1";
      Visible = "0";
      hovertime = "1000";
      Margin = "0 0 0 0";
      Padding = "0 0 0 0";
      AnchorTop = "1";
      AnchorBottom = "0";
      AnchorLeft = "1";
      AnchorRight = "0";
      resizeWidth = "0";
      resizeHeight = "0";
      canMove = "0";
      canClose = "0";
      canMinimize = "0";
      canMaximize = "0";
      minSize = "50 50";
      EdgeSnap = "1";
      text = "Change Material Category";

      new GuiPopUpMenuCtrl(matEd_changeCategory_categoryList) {
         canSaveDynamicFields = "0";
         Enabled = "1";
         isContainer = "0";
         Profile = "ToolsGuiPopUpMenuProfile";
         HorizSizing = "right";
         VertSizing = "bottom";
         position = "10 32";
         Extent = "183 18";
         MinExtent = "8 2";
         canSave = "1";
         Visible = "1";
         hovertime = "1000";
         Margin = "0 0 0 0";
         Padding = "0 0 0 0";
         AnchorTop = "1";
         AnchorBottom = "0";
         AnchorLeft = "1";
         AnchorRight = "0";
         maxLength = "1024";
         maxPopupHeight = "200";
         sbUsesNAColor = "0";
         reverseTextList = "0";
         bitmapBounds = "16 16";
      };
      new GuiButtonCtrl(matEd_changeCategory_okayBtn) {
         canSaveDynamicFields = "0";
         Enabled = "1";
         isContainer = "0";
         Profile = "ToolsGuiButtonProfile";
         HorizSizing = "right";
         VertSizing = "bottom";
         position = "10 97";
         Extent = "137 24";
         MinExtent = "8 2";
         canSave = "1";
         Visible = "1";
         Command = "MaterialEditorGui.okayChangeCategoryDialog();";
         hovertime = "1000";
         text = "Update Category";
         groupNum = "-1";
         buttonType = "PushButton";
         useMouseEvents = "0";
      };
      new GuiButtonCtrl(matEd_changeCategory_cancelBtn) {
         canSaveDynamicFields = "0";
         Enabled = "1";
         isContainer = "0";
         Profile = "ToolsGuiButtonProfile";
         HorizSizing = "right";
         VertSizing = "bottom";
         position = "159 97";
         Extent = "80 24";
         MinExtent = "8 2";
         canSave = "1";
         Visible = "1";
         Command = "MaterialEditorGui.cancelChangeCategoryDialog();";
         hovertime = "1000";
         text = "Cancel";
         groupNum = "-1";
         buttonType = "PushButton";
         useMouseEvents = "0";
      };
      new GuiButtonCtrl(matEd_changeCategory_addCatBtn) {
         canSaveDynamicFields = "0";
         Enabled = "1";
         isContainer = "0";
         Profile = "ToolsGuiButtonProfile";
         HorizSizing = "right";
         VertSizing = "bottom";
         position = "200 60";
         Extent = "39 18";
         MinExtent = "8 2";
         canSave = "1";
         Visible = "1";
         Command = "MaterialEditorGui.addCategory();";
         hovertime = "1000";
         text = "New";
         groupNum = "-1";
         buttonType = "PushButton";
         useMouseEvents = "0";
      };
      new GuiTextEditCtrl(matEd_changeCategory_catNameEntry) {
         canSaveDynamicFields = "0";
         Enabled = "1";
         isContainer = "0";
         Profile = "ToolsGuiTextEditProfile";
         HorizSizing = "right";
         VertSizing = "bottom";
         position = "10 60";
         Extent = "183 18";
         MinExtent = "8 2";
         canSave = "1";
         Visible = "1";
         hovertime = "1000";
         Margin = "0 0 0 0";
         Padding = "0 0 0 0";
         AnchorTop = "1";
         AnchorBottom = "0";
         AnchorLeft = "1";
         AnchorRight = "0";
         maxLength = "1024";
         historySize = "0";
         password = "0";
         tabComplete = "0";
         sinkAllKeyEvents = "0";
         password = "0";
         passwordMask = "*";
      };
      new GuiWindowCtrl(matEd_changeCategory_ErrorDialog) {
         canSaveDynamicFields = "0";
         Enabled = "1";
         isContainer = "1";
         Profile = "ToolsGuiWindowProfile";
         HorizSizing = "right";
         VertSizing = "bottom";
         position = "8 18";
         Extent = "232 113";
         MinExtent = "8 2";
         canSave = "1";
         Visible = "0";
         hovertime = "1000";
         Margin = "0 0 0 0";
         Padding = "0 0 0 0";
         AnchorTop = "1";
         AnchorBottom = "0";
         AnchorLeft = "1";
         AnchorRight = "0";
         resizeWidth = "0";
         resizeHeight = "0";
         canMove = "0";
         canClose = "0";
         canMinimize = "0";
         canMaximize = "0";
         minSize = "50 50";
         EdgeSnap = "1";
         text = "Category Change Error";

         new GuiButtonCtrl(matEd_changeCategory_Error_Button) {
            canSaveDynamicFields = "0";
            Enabled = "1";
            isContainer = "0";
            Profile = "ToolsGuiButtonProfile";
            HorizSizing = "right";
            VertSizing = "bottom";
            position = "72 81";
            Extent = "80 24";
            MinExtent = "8 2";
            canSave = "1";
            Visible = "1";
            Command = "MaterialEditorGui.okChangeCategoryErrorDialog();";
            hovertime = "1000";
            text = "Ok";
            groupNum = "-1";
            buttonType = "PushButton";
            useMouseEvents = "0";
         };
         new GuiTextCtrl(matEd_changeCategory_error_Text) {
            canSaveDynamicFields = "0";
            Enabled = "1";
            isContainer = "0";
            Profile = "ToolsGuiTextCenterProfile";
            HorizSizing = "right";
            VertSizing = "bottom";
            position = "8 31";
            Extent = "215 40";
            MinExtent = "8 2";
            canSave = "1";
            Visible = "1";
            hovertime = "1000";
            Margin = "0 0 0 0";
            Padding = "0 0 0 0";
            AnchorTop = "1";
            AnchorBottom = "0";
            AnchorLeft = "1";
            AnchorRight = "0";
            text = "Text goes here!";
            maxLength = "1024";
         };
      };
   };
};
//--- OBJECT WRITE END ---
